var qs=Object.defineProperty;var Us=(s,t,r)=>t in s?qs(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var $t=(s,t,r)=>(Us(s,typeof t!="symbol"?t+"":t,r),r),ft=(s,t,r)=>{if(!t.has(s))throw TypeError("Cannot "+r)};var d=(s,t,r)=>(ft(s,t,"read from private field"),r?r.call(s):t.get(s)),_=(s,t,r)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,r)},C=(s,t,r,a)=>(ft(s,t,"write to private field"),a?a.call(s,r):t.set(s,r),r);var Qe=(s,t,r,a)=>({set _(i){C(s,t,i,r)},get _(){return d(s,t,a)}}),B=(s,t,r)=>(ft(s,t,"access private method"),r);import{r as v,b as $s,a as bs}from"./vendor-729d4b68.js";import{u as At,a as it,L as Ze,R as Ot,b as q,N as Ne,B as zs}from"./router-cd0d08b7.js";import{c as nt}from"./state-1f075b8f.js";import{o as Qs,r as Hs,a as Ks,c as lt,b as Q,d as gt,e as zt,f as Js,u as Pt}from"./forms-f917658d.js";import{t as Vs,c as Gs,p as yt,i as bt,d as Ws,f as Ys}from"./utils-00700fa0.js";import{m as R,H as L,S as Zs,A as z,a as fe,U as Xe,C as Qt,L as Ht,E as vt,b as et,c as Xs,d as er,e as Kt,f as tt,X as Dt,M as vs,g as js,h as Et,R as W,B as st,T as It,i as Lt,F as ws,j as tr,k as sr,l as rr,P as Ns,n as Ss,o as Jt,p as Vt,q as Ge,r as ar,s as Gt,t as Wt,u as ir,v as nr}from"./ui-7c63c58c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}})();var Cs={exports:{}},ot={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lr=v,or=Symbol.for("react.element"),cr=Symbol.for("react.fragment"),dr=Object.prototype.hasOwnProperty,mr=lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ur={key:!0,ref:!0,__self:!0,__source:!0};function Rs(s,t,r){var a,i={},n=null,l=null;r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)dr.call(t,a)&&!ur.hasOwnProperty(a)&&(i[a]=t[a]);if(s&&s.defaultProps)for(a in t=s.defaultProps,t)i[a]===void 0&&(i[a]=t[a]);return{$$typeof:or,type:s,key:n,ref:l,props:i,_owner:mr.current}}ot.Fragment=cr;ot.jsx=Rs;ot.jsxs=Rs;Cs.exports=ot;var e=Cs.exports,jt={},Yt=$s;jt.createRoot=Yt.createRoot,jt.hydrateRoot=Yt.hydrateRoot;var ct=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hr={setTimeout:(s,t)=>setTimeout(s,t),clearTimeout:s=>clearTimeout(s),setInterval:(s,t)=>setInterval(s,t),clearInterval:s=>clearInterval(s)},ce,kt,ds,xr=(ds=class{constructor(){_(this,ce,hr);_(this,kt,!1)}setTimeoutProvider(s){C(this,ce,s)}setTimeout(s,t){return d(this,ce).setTimeout(s,t)}clearTimeout(s){d(this,ce).clearTimeout(s)}setInterval(s,t){return d(this,ce).setInterval(s,t)}clearInterval(s){d(this,ce).clearInterval(s)}},ce=new WeakMap,kt=new WeakMap,ds),wt=new xr;function pr(s){setTimeout(s,0)}var dt=typeof window>"u"||"Deno"in globalThis;function J(){}function fr(s,t){return typeof s=="function"?s(t):s}function gr(s){return typeof s=="number"&&s>=0&&s!==1/0}function yr(s,t){return Math.max(s+(t||0)-Date.now(),0)}function Nt(s,t){return typeof s=="function"?s(t):s}function br(s,t){return typeof s=="function"?s(t):s}function Zt(s,t){const{type:r="all",exact:a,fetchStatus:i,predicate:n,queryKey:l,stale:o}=s;if(l){if(a){if(t.queryHash!==Ft(l,t.options))return!1}else if(!Le(t.queryKey,l))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||n&&!n(t))}function Xt(s,t){const{exact:r,status:a,predicate:i,mutationKey:n}=s;if(n){if(!t.options.mutationKey)return!1;if(r){if(Ie(t.options.mutationKey)!==Ie(n))return!1}else if(!Le(t.options.mutationKey,n))return!1}return!(a&&t.state.status!==a||i&&!i(t))}function Ft(s,t){return((t==null?void 0:t.queryKeyHashFn)||Ie)(s)}function Ie(s){return JSON.stringify(s,(t,r)=>St(r)?Object.keys(r).sort().reduce((a,i)=>(a[i]=r[i],a),{}):r)}function Le(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?Object.keys(t).every(r=>Le(s[r],t[r])):!1}var vr=Object.prototype.hasOwnProperty;function _s(s,t){if(s===t)return s;const r=es(s)&&es(t);if(!r&&!(St(s)&&St(t)))return t;const i=(r?s:Object.keys(s)).length,n=r?t:Object.keys(t),l=n.length,o=r?new Array(l):{};let c=0;for(let m=0;m<l;m++){const x=r?m:n[m],h=s[x],p=t[x];if(h===p){o[x]=h,(r?m<i:vr.call(s,x))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){o[x]=p;continue}const S=_s(h,p);o[x]=S,S===h&&c++}return i===l&&c===i?s:o}function es(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function St(s){if(!ts(s))return!1;const t=s.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ts(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function ts(s){return Object.prototype.toString.call(s)==="[object Object]"}function jr(s){return new Promise(t=>{wt.setTimeout(t,s)})}function wr(s,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(s,t):r.structuralSharing!==!1?_s(s,t):t}function Nr(s,t,r=0){const a=[...s,t];return r&&a.length>r?a.slice(1):a}function Sr(s,t,r=0){const a=[t,...s];return r&&a.length>r?a.slice(0,-1):a}var Tt=Symbol();function ks(s,t){return!s.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!s.queryFn||s.queryFn===Tt?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var ge,de,Se,ms,Cr=(ms=class extends ct{constructor(){super();_(this,ge,void 0);_(this,de,void 0);_(this,Se,void 0);C(this,Se,t=>{if(!dt&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){d(this,de)||this.setEventListener(d(this,Se))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,de))==null||t.call(this),C(this,de,void 0))}setEventListener(t){var r;C(this,Se,t),(r=d(this,de))==null||r.call(this),C(this,de,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){d(this,ge)!==t&&(C(this,ge,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof d(this,ge)=="boolean"?d(this,ge):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ge=new WeakMap,de=new WeakMap,Se=new WeakMap,ms),As=new Cr;function Rr(){let s,t;const r=new Promise((i,n)=>{s=i,t=n});r.status="pending",r.catch(()=>{});function a(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{a({status:"fulfilled",value:i}),s(i)},r.reject=i=>{a({status:"rejected",reason:i}),t(i)},r}var _r=pr;function kr(){let s=[],t=0,r=o=>{o()},a=o=>{o()},i=_r;const n=o=>{t?s.push(o):i(()=>{r(o)})},l=()=>{const o=s;s=[],o.length&&i(()=>{a(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{n(()=>{o(...c)})},schedule:n,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{i=o}}}var $=kr(),Ce,me,Re,us,Ar=(us=class extends ct{constructor(){super();_(this,Ce,!0);_(this,me,void 0);_(this,Re,void 0);C(this,Re,t=>{if(!dt&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){d(this,me)||this.setEventListener(d(this,Re))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,me))==null||t.call(this),C(this,me,void 0))}setEventListener(t){var r;C(this,Re,t),(r=d(this,me))==null||r.call(this),C(this,me,t(this.setOnline.bind(this)))}setOnline(t){d(this,Ce)!==t&&(C(this,Ce,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return d(this,Ce)}},Ce=new WeakMap,me=new WeakMap,Re=new WeakMap,us),rt=new Ar;function Or(s){return Math.min(1e3*2**s,3e4)}function Os(s){return(s??"online")==="online"?rt.isOnline():!0}var Ct=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Ps(s){let t=!1,r=0,a;const i=Rr(),n=()=>i.status!=="pending",l=y=>{var u;if(!n()){const g=new Ct(y);p(g),(u=s.onCancel)==null||u.call(s,g)}},o=()=>{t=!0},c=()=>{t=!1},m=()=>As.isFocused()&&(s.networkMode==="always"||rt.isOnline())&&s.canRun(),x=()=>Os(s.networkMode)&&s.canRun(),h=y=>{n()||(a==null||a(),i.resolve(y))},p=y=>{n()||(a==null||a(),i.reject(y))},S=()=>new Promise(y=>{var u;a=g=>{(n()||m())&&y(g)},(u=s.onPause)==null||u.call(s)}).then(()=>{var y;a=void 0,n()||(y=s.onContinue)==null||y.call(s)}),N=()=>{if(n())return;let y;const u=r===0?s.initialPromise:void 0;try{y=u??s.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var j;if(n())return;const b=s.retry??(dt?0:3),w=s.retryDelay??Or,f=typeof w=="function"?w(r,g):w,O=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,g);if(t||!O){p(g);return}r++,(j=s.onFail)==null||j.call(s,r,g),jr(f).then(()=>m()?void 0:S()).then(()=>{t?p(g):N()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:x,start:()=>(x()?N():S().then(N),i)}}var ye,hs,Ds=(hs=class{constructor(){_(this,ye,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gr(this.gcTime)&&C(this,ye,wt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(dt?1/0:5*60*1e3))}clearGcTimeout(){d(this,ye)&&(wt.clearTimeout(d(this,ye)),C(this,ye,void 0))}},ye=new WeakMap,hs),be,_e,H,ve,T,Te,je,V,re,xs,Pr=(xs=class extends Ds{constructor(t){super();_(this,V);_(this,be,void 0);_(this,_e,void 0);_(this,H,void 0);_(this,ve,void 0);_(this,T,void 0);_(this,Te,void 0);_(this,je,void 0);C(this,je,!1),C(this,Te,t.defaultOptions),this.setOptions(t.options),this.observers=[],C(this,ve,t.client),C(this,H,d(this,ve).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,C(this,be,ss(this.options)),this.state=t.state??d(this,be),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=d(this,T))==null?void 0:t.promise}setOptions(t){if(this.options={...d(this,Te),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ss(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),C(this,be,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&d(this,H).remove(this)}setData(t,r){const a=wr(this.state.data,t,this.options);return B(this,V,re).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){B(this,V,re).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,i;const r=(a=d(this,T))==null?void 0:a.promise;return(i=d(this,T))==null||i.cancel(t),r?r.then(J).catch(J):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(d(this,be))}isActive(){return this.observers.some(t=>br(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Nt(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!yr(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=d(this,T))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=d(this,T))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),d(this,H).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(d(this,T)&&(d(this,je)?d(this,T).cancel({revert:!0}):d(this,T).cancelRetry()),this.scheduleGc()),d(this,H).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||B(this,V,re).call(this,{type:"invalidate"})}async fetch(t,r){var c,m,x,h,p,S,N,y,u,g,b,w;if(this.state.fetchStatus!=="idle"&&((c=d(this,T))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(d(this,T))return d(this,T).continueRetry(),d(this,T).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(O=>O.options.queryFn);f&&this.setOptions(f.options)}const a=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(C(this,je,!0),a.signal)})},n=()=>{const f=ks(this.options,r),j=(()=>{const A={client:d(this,ve),queryKey:this.queryKey,meta:this.meta};return i(A),A})();return C(this,je,!1),this.options.persister?this.options.persister(f,j,this):f(j)},o=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:d(this,ve),state:this.state,fetchFn:n};return i(f),f})();(m=this.options.behavior)==null||m.onFetch(o,this),C(this,_e,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=o.fetchOptions)==null?void 0:x.meta))&&B(this,V,re).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),C(this,T,Ps({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:f=>{f instanceof Ct&&f.revert&&this.setState({...d(this,_e),fetchStatus:"idle"}),a.abort()},onFail:(f,O)=>{B(this,V,re).call(this,{type:"failed",failureCount:f,error:O})},onPause:()=>{B(this,V,re).call(this,{type:"pause"})},onContinue:()=>{B(this,V,re).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const f=await d(this,T).start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),(S=(p=d(this,H).config).onSuccess)==null||S.call(p,f,this),(y=(N=d(this,H).config).onSettled)==null||y.call(N,f,this.state.error,this),f}catch(f){if(f instanceof Ct){if(f.silent)return d(this,T).promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw B(this,V,re).call(this,{type:"error",error:f}),(g=(u=d(this,H).config).onError)==null||g.call(u,f,this),(w=(b=d(this,H).config).onSettled)==null||w.call(b,this.state.data,f,this),f}finally{this.scheduleGc()}}},be=new WeakMap,_e=new WeakMap,H=new WeakMap,ve=new WeakMap,T=new WeakMap,Te=new WeakMap,je=new WeakMap,V=new WeakSet,re=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Dr(a.data,this.options),fetchMeta:t.meta??null};case"success":const i={...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return C(this,_e,t.manual?i:void 0),i;case"error":const n=t.error;return{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),$.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),d(this,H).notify({query:this,type:"updated",action:t})})},xs);function Dr(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Os(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function ss(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,r=t!==void 0,a=r?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function rs(s){return{onFetch:(t,r)=>{var x,h,p,S,N;const a=t.options,i=(p=(h=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,n=((S=t.state.data)==null?void 0:S.pages)||[],l=((N=t.state.data)==null?void 0:N.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const m=async()=>{let y=!1;const u=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=ks(t.options,t.fetchOptions),b=async(w,f,O)=>{if(y)return Promise.reject();if(f==null&&w.pages.length)return Promise.resolve(w);const A=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:f,direction:O?"backward":"forward",meta:t.options.meta};return u(M),M})(),D=await g(A),{maxPages:P}=t.options,k=O?Sr:Nr;return{pages:k(w.pages,D,P),pageParams:k(w.pageParams,f,P)}};if(i&&n.length){const w=i==="backward",f=w?Er:as,O={pages:n,pageParams:l},j=f(a,O);o=await b(O,j,w)}else{const w=s??n.length;do{const f=c===0?l[0]??a.initialPageParam:as(a,o);if(c>0&&f==null)break;o=await b(o,f),c++}while(c<w)}return o};t.options.persister?t.fetchFn=()=>{var y,u;return(u=(y=t.options).persister)==null?void 0:u.call(y,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=m}}}function as(s,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?s.getNextPageParam(t[a],t,r[a],r):void 0}function Er(s,{pages:t,pageParams:r}){var a;return t.length>0?(a=s.getPreviousPageParam)==null?void 0:a.call(s,t[0],t,r[0],r):void 0}var Me,Z,U,we,X,le,ps,Ir=(ps=class extends Ds{constructor(t){super();_(this,X);_(this,Me,void 0);_(this,Z,void 0);_(this,U,void 0);_(this,we,void 0);C(this,Me,t.client),this.mutationId=t.mutationId,C(this,U,t.mutationCache),C(this,Z,[]),this.state=t.state||Lr(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){d(this,Z).includes(t)||(d(this,Z).push(t),this.clearGcTimeout(),d(this,U).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){C(this,Z,d(this,Z).filter(r=>r!==t)),this.scheduleGc(),d(this,U).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){d(this,Z).length||(this.state.status==="pending"?this.scheduleGc():d(this,U).remove(this))}continue(){var t;return((t=d(this,we))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,c,m,x,h,p,S,N,y,u,g,b,w,f,O,j,A,D,P;const r=()=>{B(this,X,le).call(this,{type:"continue"})},a={client:d(this,Me),meta:this.options.meta,mutationKey:this.options.mutationKey};C(this,we,Ps({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(k,M)=>{B(this,X,le).call(this,{type:"failed",failureCount:k,error:M})},onPause:()=>{B(this,X,le).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>d(this,U).canRun(this)}));const i=this.state.status==="pending",n=!d(this,we).canStart();try{if(i)r();else{B(this,X,le).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(l=d(this,U).config).onMutate)==null?void 0:o.call(l,t,this,a));const M=await((m=(c=this.options).onMutate)==null?void 0:m.call(c,t,a));M!==this.state.context&&B(this,X,le).call(this,{type:"pending",context:M,variables:t,isPaused:n})}const k=await d(this,we).start();return await((h=(x=d(this,U).config).onSuccess)==null?void 0:h.call(x,k,t,this.state.context,this,a)),await((S=(p=this.options).onSuccess)==null?void 0:S.call(p,k,t,this.state.context,a)),await((y=(N=d(this,U).config).onSettled)==null?void 0:y.call(N,k,null,this.state.variables,this.state.context,this,a)),await((g=(u=this.options).onSettled)==null?void 0:g.call(u,k,null,t,this.state.context,a)),B(this,X,le).call(this,{type:"success",data:k}),k}catch(k){try{throw await((w=(b=d(this,U).config).onError)==null?void 0:w.call(b,k,t,this.state.context,this,a)),await((O=(f=this.options).onError)==null?void 0:O.call(f,k,t,this.state.context,a)),await((A=(j=d(this,U).config).onSettled)==null?void 0:A.call(j,void 0,k,this.state.variables,this.state.context,this,a)),await((P=(D=this.options).onSettled)==null?void 0:P.call(D,void 0,k,t,this.state.context,a)),k}finally{B(this,X,le).call(this,{type:"error",error:k})}}finally{d(this,U).runNext(this)}}},Me=new WeakMap,Z=new WeakMap,U=new WeakMap,we=new WeakMap,X=new WeakSet,le=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$.batch(()=>{d(this,Z).forEach(a=>{a.onMutationUpdate(t)}),d(this,U).notify({mutation:this,type:"updated",action:t})})},ps);function Lr(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ae,G,Be,fs,Fr=(fs=class extends ct{constructor(t={}){super();_(this,ae,void 0);_(this,G,void 0);_(this,Be,void 0);this.config=t,C(this,ae,new Set),C(this,G,new Map),C(this,Be,0)}build(t,r,a){const i=new Ir({client:t,mutationCache:this,mutationId:++Qe(this,Be)._,options:t.defaultMutationOptions(r),state:a});return this.add(i),i}add(t){d(this,ae).add(t);const r=He(t);if(typeof r=="string"){const a=d(this,G).get(r);a?a.push(t):d(this,G).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(d(this,ae).delete(t)){const r=He(t);if(typeof r=="string"){const a=d(this,G).get(r);if(a)if(a.length>1){const i=a.indexOf(t);i!==-1&&a.splice(i,1)}else a[0]===t&&d(this,G).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=He(t);if(typeof r=="string"){const a=d(this,G).get(r),i=a==null?void 0:a.find(n=>n.state.status==="pending");return!i||i===t}else return!0}runNext(t){var a;const r=He(t);if(typeof r=="string"){const i=(a=d(this,G).get(r))==null?void 0:a.find(n=>n!==t&&n.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$.batch(()=>{d(this,ae).forEach(t=>{this.notify({type:"removed",mutation:t})}),d(this,ae).clear(),d(this,G).clear()})}getAll(){return Array.from(d(this,ae))}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Xt(r,a))}findAll(t={}){return this.getAll().filter(r=>Xt(t,r))}notify(t){$.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return $.batch(()=>Promise.all(t.map(r=>r.continue().catch(J))))}},ae=new WeakMap,G=new WeakMap,Be=new WeakMap,fs);function He(s){var t;return(t=s.options.scope)==null?void 0:t.id}var ee,gs,Tr=(gs=class extends ct{constructor(t={}){super();_(this,ee,void 0);this.config=t,C(this,ee,new Map)}build(t,r,a){const i=r.queryKey,n=r.queryHash??Ft(i,r);let l=this.get(n);return l||(l=new Pr({client:t,queryKey:i,queryHash:n,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){d(this,ee).has(t.queryHash)||(d(this,ee).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=d(this,ee).get(t.queryHash);r&&(t.destroy(),r===t&&d(this,ee).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return d(this,ee).get(t)}getAll(){return[...d(this,ee).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Zt(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>Zt(t,a)):r}notify(t){$.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){$.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ee=new WeakMap,gs),I,ue,he,ke,Ae,xe,Oe,Pe,ys,Mr=(ys=class{constructor(s={}){_(this,I,void 0);_(this,ue,void 0);_(this,he,void 0);_(this,ke,void 0);_(this,Ae,void 0);_(this,xe,void 0);_(this,Oe,void 0);_(this,Pe,void 0);C(this,I,s.queryCache||new Tr),C(this,ue,s.mutationCache||new Fr),C(this,he,s.defaultOptions||{}),C(this,ke,new Map),C(this,Ae,new Map),C(this,xe,0)}mount(){Qe(this,xe)._++,d(this,xe)===1&&(C(this,Oe,As.subscribe(async s=>{s&&(await this.resumePausedMutations(),d(this,I).onFocus())})),C(this,Pe,rt.subscribe(async s=>{s&&(await this.resumePausedMutations(),d(this,I).onOnline())})))}unmount(){var s,t;Qe(this,xe)._--,d(this,xe)===0&&((s=d(this,Oe))==null||s.call(this),C(this,Oe,void 0),(t=d(this,Pe))==null||t.call(this),C(this,Pe,void 0))}isFetching(s){return d(this,I).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return d(this,ue).findAll({...s,status:"pending"}).length}getQueryData(s){var r;const t=this.defaultQueryOptions({queryKey:s});return(r=d(this,I).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(s){const t=this.defaultQueryOptions(s),r=d(this,I).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(s):(s.revalidateIfStale&&r.isStaleByTime(Nt(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(s){return d(this,I).findAll(s).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(s,t,r){const a=this.defaultQueryOptions({queryKey:s}),i=d(this,I).get(a.queryHash),n=i==null?void 0:i.state.data,l=fr(t,n);if(l!==void 0)return d(this,I).build(this,a).setData(l,{...r,manual:!0})}setQueriesData(s,t,r){return $.batch(()=>d(this,I).findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(s){var r;const t=this.defaultQueryOptions({queryKey:s});return(r=d(this,I).get(t.queryHash))==null?void 0:r.state}removeQueries(s){const t=d(this,I);$.batch(()=>{t.findAll(s).forEach(r=>{t.remove(r)})})}resetQueries(s,t){const r=d(this,I);return $.batch(()=>(r.findAll(s).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...s},t)))}cancelQueries(s,t={}){const r={revert:!0,...t},a=$.batch(()=>d(this,I).findAll(s).map(i=>i.cancel(r)));return Promise.all(a).then(J).catch(J)}invalidateQueries(s,t={}){return $.batch(()=>(d(this,I).findAll(s).forEach(r=>{r.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},t)))}refetchQueries(s,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=$.batch(()=>d(this,I).findAll(s).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let n=i.fetch(void 0,r);return r.throwOnError||(n=n.catch(J)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(a).then(J)}fetchQuery(s){const t=this.defaultQueryOptions(s);t.retry===void 0&&(t.retry=!1);const r=d(this,I).build(this,t);return r.isStaleByTime(Nt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(J).catch(J)}fetchInfiniteQuery(s){return s.behavior=rs(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(J).catch(J)}ensureInfiniteQueryData(s){return s.behavior=rs(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return rt.isOnline()?d(this,ue).resumePausedMutations():Promise.resolve()}getQueryCache(){return d(this,I)}getMutationCache(){return d(this,ue)}getDefaultOptions(){return d(this,he)}setDefaultOptions(s){C(this,he,s)}setQueryDefaults(s,t){d(this,ke).set(Ie(s),{queryKey:s,defaultOptions:t})}getQueryDefaults(s){const t=[...d(this,ke).values()],r={};return t.forEach(a=>{Le(s,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(s,t){d(this,Ae).set(Ie(s),{mutationKey:s,defaultOptions:t})}getMutationDefaults(s){const t=[...d(this,Ae).values()],r={};return t.forEach(a=>{Le(s,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(s){if(s._defaulted)return s;const t={...d(this,he).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return t.queryHash||(t.queryHash=Ft(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Tt&&(t.enabled=!1),t}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...d(this,he).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){d(this,I).clear(),d(this,ue).clear()}},I=new WeakMap,ue=new WeakMap,he=new WeakMap,ke=new WeakMap,Ae=new WeakMap,xe=new WeakMap,Oe=new WeakMap,Pe=new WeakMap,ys),Br=v.createContext(void 0),qr=({client:s,children:t})=>(v.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),e.jsx(Br.Provider,{value:s,children:t}));let Ur={data:""},$r=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||Ur,zr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qr=/\/\*[^]*?\*\/|  +/g,is=/\n+/g,oe=(s,t)=>{let r="",a="",i="";for(let n in s){let l=s[n];n[0]=="@"?n[1]=="i"?r=n+" "+l+";":a+=n[1]=="f"?oe(l,n):n+"{"+oe(l,n[1]=="k"?"":t)+"}":typeof l=="object"?a+=oe(l,t?t.replace(/([^,])+/g,o=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):n):l!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=oe.p?oe.p(n,l):n+":"+l+";")}return r+(t&&i?t+"{"+i+"}":i)+a},se={},Es=s=>{if(typeof s=="object"){let t="";for(let r in s)t+=r+Es(s[r]);return t}return s},Hr=(s,t,r,a,i)=>{let n=Es(s),l=se[n]||(se[n]=(c=>{let m=0,x=11;for(;m<c.length;)x=101*x+c.charCodeAt(m++)>>>0;return"go"+x})(n));if(!se[l]){let c=n!==s?s:(m=>{let x,h,p=[{}];for(;x=zr.exec(m.replace(Qr,""));)x[4]?p.shift():x[3]?(h=x[3].replace(is," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][x[1]]=x[2].replace(is," ").trim();return p[0]})(s);se[l]=oe(i?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&se.g?se.g:null;return r&&(se.g=se[l]),((c,m,x,h)=>{h?m.data=m.data.replace(h,c):m.data.indexOf(c)===-1&&(m.data=x?c+m.data:m.data+c)})(se[l],t,a,o),l},Kr=(s,t,r)=>s.reduce((a,i,n)=>{let l=t[n];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":oe(o,""):o===!1?"":o}return a+i+(l??"")},"");function mt(s){let t=this||{},r=s.call?s(t.p):s;return Hr(r.unshift?r.raw?Kr(r,[].slice.call(arguments,1),t.p):r.reduce((a,i)=>Object.assign(a,i&&i.call?i(t.p):i),{}):r,$r(t.target),t.g,t.o,t.k)}let Is,Rt,_t;mt.bind({g:1});let ie=mt.bind({k:1});function Jr(s,t,r,a){oe.p=t,Is=s,Rt=r,_t=a}function pe(s,t){let r=this||{};return function(){let a=arguments;function i(n,l){let o=Object.assign({},n),c=o.className||i.className;r.p=Object.assign({theme:Rt&&Rt()},o),r.o=/ *go\d+/.test(c),o.className=mt.apply(r,a)+(c?" "+c:""),t&&(o.ref=l);let m=s;return s[0]&&(m=o.as||s,delete o.as),_t&&m[0]&&_t(o),Is(m,o)}return t?t(i):i}}var Vr=s=>typeof s=="function",at=(s,t)=>Vr(s)?s(t):s,Gr=(()=>{let s=0;return()=>(++s).toString()})(),Ls=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),Wr=20,Mt="default",Fs=(s,t)=>{let{toastLimit:r}=s.settings;switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,r)};case 1:return{...s,toasts:s.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:a}=t;return Fs(s,{type:s.toasts.find(l=>l.id===a.id)?1:0,toast:a});case 3:let{toastId:i}=t;return{...s,toasts:s.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let n=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+n}))}}},We=[],Ts={toasts:[],pausedAt:void 0,settings:{toastLimit:Wr}},te={},Ms=(s,t=Mt)=>{te[t]=Fs(te[t]||Ts,s),We.forEach(([r,a])=>{r===t&&a(te[t])})},Bs=s=>Object.keys(te).forEach(t=>Ms(s,t)),Yr=s=>Object.keys(te).find(t=>te[t].toasts.some(r=>r.id===s)),ut=(s=Mt)=>t=>{Ms(t,s)},Zr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xr=(s={},t=Mt)=>{let[r,a]=v.useState(te[t]||Ts),i=v.useRef(te[t]);v.useEffect(()=>(i.current!==te[t]&&a(te[t]),We.push([t,a]),()=>{let l=We.findIndex(([o])=>o===t);l>-1&&We.splice(l,1)}),[t]);let n=r.toasts.map(l=>{var o,c,m;return{...s,...s[l.type],...l,removeDelay:l.removeDelay||((o=s[l.type])==null?void 0:o.removeDelay)||(s==null?void 0:s.removeDelay),duration:l.duration||((c=s[l.type])==null?void 0:c.duration)||(s==null?void 0:s.duration)||Zr[l.type],style:{...s.style,...(m=s[l.type])==null?void 0:m.style,...l.style}}});return{...r,toasts:n}},ea=(s,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Gr()}),qe=s=>(t,r)=>{let a=ea(t,s,r);return ut(a.toasterId||Yr(a.id))({type:2,toast:a}),a.id},F=(s,t)=>qe("blank")(s,t);F.error=qe("error");F.success=qe("success");F.loading=qe("loading");F.custom=qe("custom");F.dismiss=(s,t)=>{let r={type:3,toastId:s};t?ut(t)(r):Bs(r)};F.dismissAll=s=>F.dismiss(void 0,s);F.remove=(s,t)=>{let r={type:4,toastId:s};t?ut(t)(r):Bs(r)};F.removeAll=s=>F.remove(void 0,s);F.promise=(s,t,r)=>{let a=F.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let n=t.success?at(t.success,i):void 0;return n?F.success(n,{id:a,...r,...r==null?void 0:r.success}):F.dismiss(a),i}).catch(i=>{let n=t.error?at(t.error,i):void 0;n?F.error(n,{id:a,...r,...r==null?void 0:r.error}):F.dismiss(a)}),s};var ta=1e3,sa=(s,t="default")=>{let{toasts:r,pausedAt:a}=Xr(s,t),i=v.useRef(new Map).current,n=v.useCallback((h,p=ta)=>{if(i.has(h))return;let S=setTimeout(()=>{i.delete(h),l({type:4,toastId:h})},p);i.set(h,S)},[]);v.useEffect(()=>{if(a)return;let h=Date.now(),p=r.map(S=>{if(S.duration===1/0)return;let N=(S.duration||0)+S.pauseDuration-(h-S.createdAt);if(N<0){S.visible&&F.dismiss(S.id);return}return setTimeout(()=>F.dismiss(S.id,t),N)});return()=>{p.forEach(S=>S&&clearTimeout(S))}},[r,a,t]);let l=v.useCallback(ut(t),[t]),o=v.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=v.useCallback((h,p)=>{l({type:1,toast:{id:h,height:p}})},[l]),m=v.useCallback(()=>{a&&l({type:6,time:Date.now()})},[a,l]),x=v.useCallback((h,p)=>{let{reverseOrder:S=!1,gutter:N=8,defaultPosition:y}=p||{},u=r.filter(w=>(w.position||y)===(h.position||y)&&w.height),g=u.findIndex(w=>w.id===h.id),b=u.filter((w,f)=>f<g&&w.visible).length;return u.filter(w=>w.visible).slice(...S?[b+1]:[0,b]).reduce((w,f)=>w+(f.height||0)+N,0)},[r]);return v.useEffect(()=>{r.forEach(h=>{if(h.dismissed)n(h.id,h.removeDelay);else{let p=i.get(h.id);p&&(clearTimeout(p),i.delete(h.id))}})},[r,n]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:m,calculateOffset:x}}},ra=ie`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aa=ie`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ia=ie`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,na=pe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ra} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aa} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ia} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,la=ie`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,oa=pe("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${la} 1s linear infinite;
`,ca=ie`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,da=ie`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ma=pe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ca} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${da} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ua=pe("div")`
  position: absolute;
`,ha=pe("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xa=ie`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pa=pe("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xa} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fa=({toast:s})=>{let{icon:t,type:r,iconTheme:a}=s;return t!==void 0?typeof t=="string"?v.createElement(pa,null,t):t:r==="blank"?null:v.createElement(ha,null,v.createElement(oa,{...a}),r!=="loading"&&v.createElement(ua,null,r==="error"?v.createElement(na,{...a}):v.createElement(ma,{...a})))},ga=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ya=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,ba="0%{opacity:0;} 100%{opacity:1;}",va="0%{opacity:1;} 100%{opacity:0;}",ja=pe("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wa=pe("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Na=(s,t)=>{let r=s.includes("top")?1:-1,[a,i]=Ls()?[ba,va]:[ga(r),ya(r)];return{animation:t?`${ie(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ie(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Sa=v.memo(({toast:s,position:t,style:r,children:a})=>{let i=s.height?Na(s.position||t||"top-center",s.visible):{opacity:0},n=v.createElement(fa,{toast:s}),l=v.createElement(wa,{...s.ariaProps},at(s.message,s));return v.createElement(ja,{className:s.className,style:{...i,...r,...s.style}},typeof a=="function"?a({icon:n,message:l}):v.createElement(v.Fragment,null,n,l))});Jr(v.createElement);var Ca=({id:s,className:t,style:r,onHeightUpdate:a,children:i})=>{let n=v.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;a(s,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[s,a]);return v.createElement("div",{ref:n,className:t,style:r},i)},Ra=(s,t)=>{let r=s.includes("top"),a=r?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ls()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...a,...i}},_a=mt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ke=16,ka=({reverseOrder:s,position:t="top-center",toastOptions:r,gutter:a,children:i,toasterId:n,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:m}=sa(r,n);return v.createElement("div",{"data-rht-toaster":n||"",style:{position:"fixed",zIndex:9999,top:Ke,left:Ke,right:Ke,bottom:Ke,pointerEvents:"none",...l},className:o,onMouseEnter:m.startPause,onMouseLeave:m.endPause},c.map(x=>{let h=x.position||t,p=m.calculateOffset(x,{reverseOrder:s,gutter:a,defaultPosition:t}),S=Ra(h,p);return v.createElement(Ca,{id:x.id,key:x.id,onHeightUpdate:m.updateHeight,className:x.visible?_a:"",style:S},x.type==="custom"?at(x.message,x):i?i(x):v.createElement(Sa,{toast:x,position:h}))}))},E=F;function Aa(s,t){let r;try{r=s()}catch{return}return{getItem:i=>{var n;const l=c=>c===null?null:JSON.parse(c,t==null?void 0:t.reviver),o=(n=r.getItem(i))!=null?n:null;return o instanceof Promise?o.then(l):l(o)},setItem:(i,n)=>r.setItem(i,JSON.stringify(n,t==null?void 0:t.replacer)),removeItem:i=>r.removeItem(i)}}const Fe=s=>t=>{try{const r=s(t);return r instanceof Promise?r:{then(a){return Fe(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return Fe(a)(r)}}}},Oa=(s,t)=>(r,a,i)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:u=>u,version:0,merge:(u,g)=>({...g,...u}),...t},l=!1;const o=new Set,c=new Set;let m;try{m=n.getStorage()}catch{}if(!m)return s((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...u)},a,i);const x=Fe(n.serialize),h=()=>{const u=n.partialize({...a()});let g;const b=x({state:u,version:n.version}).then(w=>m.setItem(n.name,w)).catch(w=>{g=w});if(g)throw g;return b},p=i.setState;i.setState=(u,g)=>{p(u,g),h()};const S=s((...u)=>{r(...u),h()},a,i);let N;const y=()=>{var u;if(!m)return;l=!1,o.forEach(b=>b(a()));const g=((u=n.onRehydrateStorage)==null?void 0:u.call(n,a()))||void 0;return Fe(m.getItem.bind(m))(n.name).then(b=>{if(b)return n.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==n.version){if(n.migrate)return n.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var w;return N=n.merge(b,(w=a())!=null?w:S),r(N,!0),h()}).then(()=>{g==null||g(N,void 0),l=!0,c.forEach(b=>b(N))}).catch(b=>{g==null||g(void 0,b)})};return i.persist={setOptions:u=>{n={...n,...u},u.getStorage&&(m=u.getStorage())},clearStorage:()=>{m==null||m.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:u=>(o.add(u),()=>{o.delete(u)}),onFinishHydration:u=>(c.add(u),()=>{c.delete(u)})},y(),N||S},Pa=(s,t)=>(r,a,i)=>{let n={storage:Aa(()=>localStorage),partialize:y=>y,version:0,merge:(y,u)=>({...u,...y}),...t},l=!1;const o=new Set,c=new Set;let m=n.storage;if(!m)return s((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...y)},a,i);const x=()=>{const y=n.partialize({...a()});return m.setItem(n.name,{state:y,version:n.version})},h=i.setState;i.setState=(y,u)=>{h(y,u),x()};const p=s((...y)=>{r(...y),x()},a,i);i.getInitialState=()=>p;let S;const N=()=>{var y,u;if(!m)return;l=!1,o.forEach(b=>{var w;return b((w=a())!=null?w:p)});const g=((u=n.onRehydrateStorage)==null?void 0:u.call(n,(y=a())!=null?y:p))||void 0;return Fe(m.getItem.bind(m))(n.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==n.version){if(n.migrate)return[!0,n.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var w;const[f,O]=b;if(S=n.merge(O,(w=a())!=null?w:p),r(S,!0),f)return x()}).then(()=>{g==null||g(S,void 0),S=a(),l=!0,c.forEach(b=>b(S))}).catch(b=>{g==null||g(void 0,b)})};return i.persist={setOptions:y=>{n={...n,...y},y.storage&&(m=y.storage)},clearStorage:()=>{m==null||m.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>N(),hasHydrated:()=>l,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},n.skipHydration||N(),S||p},Da=(s,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?Oa(s,t):Pa(s,t),ht=Da;class Ea{constructor(){typeof window<"u"&&window.localStorage&&this.initializeDefaultUsers()}initializeDefaultUsers(){if(this.getStoredUsers().length===0){const r=[{id:1,username:"Admin",password:"Admin@123",role:"admin",created_at:new Date().toISOString()},{id:2,username:"cashier1",password:"cashier123",role:"cashier",created_at:new Date().toISOString()}];localStorage.setItem("vila-pos-users",JSON.stringify(r))}}getStoredUsers(){if(typeof window>"u"||!window.localStorage)return[];const t=localStorage.getItem("vila-pos-users");return t?JSON.parse(t):[]}saveUsers(t){typeof window<"u"&&window.localStorage&&localStorage.setItem("vila-pos-users",JSON.stringify(t))}async login(t){return new Promise(r=>{setTimeout(()=>{const i=this.getStoredUsers().find(n=>n.username===t.username&&n.password===t.password);r(i?{success:!0,user:{id:i.id,username:i.username,role:i.role}}:{success:!1,message:"Invalid username or password"})},1e3)})}async getCurrentUser(){return null}}const Ia=new Ea,Ue=nt(ht((s,t)=>({user:null,isLoading:!1,error:null,login:async r=>{s({isLoading:!0,error:null});try{const a=await Ia.login(r);return a.success?(s({user:a.user,isLoading:!1}),E.success(`Welcome back, ${a.user.username}!`),a):(s({error:a.message,isLoading:!1}),E.error(a.message),a)}catch(a){const i=a.message||"Login failed";return s({error:i,isLoading:!1}),E.error(i),{success:!1,message:i}}},logout:()=>{s({user:null,error:null}),E.success("Logged out successfully")},clearError:()=>s({error:null}),initialize:()=>{const r=t().user;s(r?{user:r,isLoading:!1}:{isLoading:!1})}}),{name:"vila-pos-auth",partialize:s=>({user:s.user})}));function Bt(s,t,r){return t===void 0&&(t={}),r===void 0&&(r={}),function(a,i,n){try{return Promise.resolve(function(l,o){try{var c=(t.context,Promise.resolve(s[r.mode==="sync"?"validateSync":"validate"](a,Object.assign({abortEarly:!1},t,{context:i}))).then(function(m){return n.shouldUseNativeValidation&&Qs({},n),{values:r.raw?a:m,errors:{}}}))}catch(m){return o(m)}return c&&c.then?c.then(void 0,o):c}(0,function(l){if(!l.inner)throw l;return{values:{},errors:Hs((o=l,c=!n.shouldUseNativeValidation&&n.criteriaMode==="all",(o.inner||[]).reduce(function(m,x){if(m[x.path]||(m[x.path]={message:x.message,type:x.type}),c){var h=m[x.path].types,p=h&&h[x.type];m[x.path]=Ks(x.path,c,m,x.type,p?[].concat(p,x.message):x.message)}return m},{})),n)};var o,c}))}catch(l){return Promise.reject(l)}}}const La=lt({username:Q().required("Username is required").min(3,"Username must be at least 3 characters"),password:Q().required("Password is required").min(6,"Password must be at least 6 characters")});lt({username:Q().required("Username is required").min(3,"Username must be at least 3 characters").max(50,"Username must be less than 50 characters"),password:Q().when("$isEditing",{is:!0,then:s=>s.min(6,"Password must be at least 6 characters").max(100,"Password must be less than 100 characters"),otherwise:s=>s.required("Password is required").min(6,"Password must be at least 6 characters").max(100,"Password must be less than 100 characters")}),full_name:Q().required("Full name is required").min(2,"Full name must be at least 2 characters").max(100,"Full name must be less than 100 characters"),email:Q().email("Invalid email format").max(100,"Email must be less than 100 characters"),phone:Q().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format").max(20,"Phone number must be less than 20 characters")});const Fa=lt({room_number:Q().required("Room number is required").max(10,"Room number must be less than 10 characters"),room_type:Q().required("Room type is required").oneOf(["ac","non_ac"],"Invalid room type"),price_per_day:gt().required("Price per day is required").positive("Price must be positive").max(1e6,"Price must be less than Rs. 1,000,000"),description:Q().max(500,"Description must be less than 500 characters")}),Ta=lt({customer_name:Q().required("Customer name is required").min(2,"Customer name must be at least 2 characters").max(100,"Customer name must be less than 100 characters"),customer_phone:Q().matches(/^[0-9+\-\s()]+$/,"Invalid phone number format").max(20,"Phone number must be less than 20 characters"),customer_address:Q().max(200,"Address must be less than 200 characters"),room_id:gt().required("Room selection is required").positive("Invalid room selection"),check_in_date:zt().required("Check-in date is required").min(new Date().toDateString(),"Check-in date cannot be in the past"),check_out_date:zt().required("Check-out date is required").min(Js("check_in_date"),"Check-out date must be after check-in date"),price_per_day:gt().required("Price per day is required").positive("Price must be positive")});function Y(...s){return Vs(Gs(s))}const $e=({size:s="md",className:t="",color:r="primary"})=>{const a={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},i={primary:"border-primary-500",white:"border-white",slate:"border-slate-400"};return e.jsx("div",{className:Y("animate-spin rounded-full border-2 border-transparent border-t-current",a[s],i[r],t),role:"status","aria-label":"Loading",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})},Ma=({rows:s=5,columns:t=4})=>e.jsx("div",{className:"space-y-3",children:Array.from({length:s}).map((r,a)=>e.jsx("div",{className:"flex gap-4 animate-pulse",children:Array.from({length:t}).map((i,n)=>e.jsx("div",{className:"h-4 bg-dark-700 rounded flex-1"},n))},a))}),Ba=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState(!1),[i,n]=v.useState(0),[l,o]=v.useState(!1),[c,m]=v.useState(0),{login:x,isLoading:h,error:p}=Ue(),S=At(),N=it(),{register:y,handleSubmit:u,formState:{errors:g,isValid:b,touchedFields:w},setError:f,clearErrors:O,watch:j}=Pt({resolver:Bt(La),mode:"onChange"});j("username"),j("password"),v.useEffect(()=>{if(i>=5){o(!0),m(300);const k=setInterval(()=>{m(M=>M<=1?(o(!1),n(0),clearInterval(k),0):M-1)},1e3);return()=>clearInterval(k)}},[i]);const A=async k=>{var M,ze;if(!l)try{O();const De=await x(k);if(De.success){n(0);const Ee=((ze=(M=N.state)==null?void 0:M.from)==null?void 0:ze.pathname)||(De.user.role==="admin"?"/admin":"/cashier");S(Ee,{replace:!0})}else n(Ee=>Ee+1),f("root",{type:"manual",message:De.message||"Invalid credentials. Please try again."})}catch(De){n(Ee=>Ee+1),f("root",{type:"manual",message:De.message||"Login failed. Please try again."})}},D=k=>{const M=Math.floor(k/60),ze=k%60;return`${M}:${ze.toString().padStart(2,"0")}`},P=k=>w[k]?g[k]?"error":"success":"default";return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:e.jsx(R.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,type:"spring",stiffness:100,damping:15},className:"relative z-10 w-full max-w-md",children:e.jsxs("div",{className:`
          bg-gray-800 border border-gray-700 rounded-lg p-8 shadow-lg
          transition-all duration-300 ease-out
          ${r?"border-blue-500":""}
        `,children:[e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"text-center mb-8",children:[e.jsx(R.div,{whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},className:"mx-auto w-20 h-20 bg-blue-600 rounded-lg flex items-center justify-center mb-6 shadow-lg",children:e.jsx(L,{className:"w-10 h-10 text-white"})}),e.jsx(R.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-3xl font-bold text-gray-100 mb-2",children:"Vila POS System"}),e.jsxs(R.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-gray-400 flex items-center justify-center gap-2",children:[e.jsx(Zs,{className:"w-4 h-4"}),"Secure Hotel Management"]})]}),e.jsx(z,{children:l&&e.jsx(R.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"mb-6 p-4 bg-red-800 border border-red-700 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fe,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-200 font-medium text-sm",children:"Account Temporarily Locked"}),e.jsxs("p",{className:"text-red-300 text-xs",children:["Too many failed attempts. Try again in ",D(c)]})]})]})})}),e.jsxs("form",{onSubmit:u(A),className:"space-y-6",onFocus:()=>a(!0),onBlur:()=>a(!1),children:[e.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.5},children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-white/90 mb-3",children:"Username"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:`
                  absolute left-4 top-1/2 transform -translate-y-1/2 transition-colors duration-200
                  ${P("username")==="error"?"text-red-400":P("username")==="success"?"text-green-400":"text-gray-400"}
                `,children:e.jsx(Xe,{className:"w-5 h-5"})}),e.jsx("input",{...y("username"),type:"text",id:"username",disabled:l,className:`
                    w-full pl-12 pr-12 py-3 bg-gray-700 border rounded-lg
                    text-gray-100 placeholder-gray-400 font-medium
                    focus:outline-none focus:ring-2 focus:bg-gray-600
                    transition-all duration-200 ease-out
                    disabled:opacity-50 disabled:cursor-not-allowed
                    ${P("username")==="error"?"border-red-500 focus:ring-red-500 focus:border-red-500":P("username")==="success"?"border-green-500 focus:ring-green-500 focus:border-green-500":"border-gray-600 focus:ring-blue-500 focus:border-blue-500"}
                  `,placeholder:"Enter your username"}),e.jsx(z,{children:w.username&&e.jsx(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:P("username")==="success"?e.jsx(Qt,{className:"w-5 h-5 text-green-400"}):P("username")==="error"?e.jsx(fe,{className:"w-5 h-5 text-red-400"}):null})})]}),e.jsx(z,{children:g.username&&e.jsxs(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-2 text-sm text-red-400 flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),g.username.message]})})]}),e.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6,duration:.5},children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-white/90 mb-3",children:"Password"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:`
                  absolute left-4 top-1/2 transform -translate-y-1/2 transition-colors duration-200
                  ${P("password")==="error"?"text-red-400":P("password")==="success"?"text-green-400":"text-gray-400"}
                `,children:e.jsx(Ht,{className:"w-5 h-5"})}),e.jsx("input",{...y("password"),type:s?"text":"password",id:"password",disabled:l,className:`
                    w-full pl-12 pr-16 py-3 bg-gray-700 border rounded-lg
                    text-gray-100 placeholder-gray-400 font-medium
                    focus:outline-none focus:ring-2 focus:bg-gray-600
                    transition-all duration-200 ease-out
                    disabled:opacity-50 disabled:cursor-not-allowed
                    ${P("password")==="error"?"border-red-500 focus:ring-red-500 focus:border-red-500":P("password")==="success"?"border-green-500 focus:ring-green-500 focus:border-green-500":"border-gray-600 focus:ring-blue-500 focus:border-blue-500"}
                  `,placeholder:"Enter your password"}),e.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>t(!s),disabled:l,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-200 transition-colors duration-200 disabled:opacity-50",children:s?e.jsx(vt,{className:"w-5 h-5"}):e.jsx(et,{className:"w-5 h-5"})}),e.jsx(z,{children:w.password&&!s&&e.jsx(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute right-12 top-1/2 transform -translate-y-1/2",children:P("password")==="success"?e.jsx(Qt,{className:"w-5 h-5 text-green-400"}):P("password")==="error"?e.jsx(fe,{className:"w-5 h-5 text-red-400"}):null})})]}),e.jsx(z,{children:g.password&&e.jsxs(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-2 text-sm text-red-400 flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),g.password.message]})})]}),e.jsx(z,{children:i>0&&i<5&&e.jsx(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"p-3 bg-yellow-800 border border-yellow-700 rounded-lg",children:e.jsxs("p",{className:"text-yellow-200 text-sm flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),i," failed attempt",i>1?"s":"",".",5-i," attempt",5-i>1?"s":""," remaining."]})})}),e.jsx(z,{children:g.root&&e.jsx(R.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"p-4 bg-red-800 border border-red-700 rounded-lg",children:e.jsxs("p",{className:"text-red-200 text-sm flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),g.root.message]})})}),e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.5},children:e.jsx(R.button,{whileHover:{scale:l?1:1.02},whileTap:{scale:l?1:.98},type:"submit",disabled:h||l||!b,className:`
                  w-full py-4 px-6 rounded-xl font-semibold text-white
                  transition-all duration-200 ease-out
                  flex items-center justify-center gap-3
                  disabled:opacity-50 disabled:cursor-not-allowed
                  ${l?"bg-gray-600":"bg-blue-600 hover:bg-blue-700"}
                `,children:h?e.jsxs(e.Fragment,{children:[e.jsx($e,{size:"sm",color:"white"}),e.jsx("span",{children:"Signing In..."})]}):l?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"w-5 h-5"}),e.jsx("span",{children:"Account Locked"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-5 h-5"}),e.jsx("span",{children:"Sign In"}),e.jsx(er,{className:"w-4 h-4"})]})})})]}),e.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.5},className:"mt-8 text-center space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 text-white/60 text-sm",children:e.jsx("span",{className:"text-gray-400",children:"Powered by Advanced Security"})}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("p",{children:"Default Credentials:"}),e.jsx("p",{children:"Admin: Admin / Admin@123"}),e.jsx("p",{children:"Cashier: cashier1 / cashier123"})]})]})]})})})},ns=[{name:"Overview",href:"/admin",icon:js},{name:"Cashiers",href:"/admin/cashiers",icon:Et},{name:"Bill History",href:"/admin/bills",icon:W},{name:"Rooms",href:"/admin/rooms",icon:L},{name:"Reports",href:"/admin/reports",icon:st}],qa=({children:s})=>{const[t,r]=v.useState(!1),a=it(),i=At(),{user:n,logout:l}=Ue(),o=()=>{l(),i("/login")};return e.jsxs("div",{className:"min-h-screen bg-dark-950 flex",children:[e.jsx(z,{children:t&&e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm md:hidden",onClick:()=>r(!1)})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0 z-30",children:e.jsxs("div",{className:"flex flex-col flex-grow bg-gray-800 border-r border-gray-700 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 px-6 py-6 border-b border-gray-700 flex-shrink-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-100",children:"Vila POS"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Admin Panel"})]})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:ns.map(c=>{const m=a.pathname===c.href;return e.jsxs(Ze,{to:c.href,className:Y("flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors duration-200",m?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"),children:[e.jsx(c.icon,{className:"w-5 h-5"}),c.name]},c.name)})}),e.jsxs("div",{className:"p-4 border-t border-gray-700 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:e.jsx(Kt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-100 truncate",children:n==null?void 0:n.username}),e.jsx("p",{className:"text-xs text-gray-400",children:"Administrator"})]})]}),e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-2 px-3 py-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors duration-200",children:[e.jsx(tt,{className:"w-4 h-4"}),"Sign Out"]})]})]})}),e.jsx(z,{children:t&&e.jsx(R.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-y-0 left-0 z-50 w-64 bg-gray-800 border-r border-gray-700 overflow-y-auto md:hidden",children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-100",children:"Vila POS"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Admin Panel"})]})]}),e.jsx("button",{onClick:()=>r(!1),className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors duration-200",children:e.jsx(Dt,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:ns.map(c=>{const m=a.pathname===c.href;return e.jsxs(Ze,{to:c.href,onClick:()=>r(!1),className:Y("flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors duration-200",m?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"),children:[e.jsx(c.icon,{className:"w-5 h-5"}),c.name]},c.name)})}),e.jsxs("div",{className:"p-4 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:e.jsx(Kt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-100 truncate",children:n==null?void 0:n.username}),e.jsx("p",{className:"text-xs text-gray-400",children:"Administrator"})]})]}),e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-2 px-3 py-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors duration-200",children:[e.jsx(tt,{className:"w-4 h-4"}),"Sign Out"]})]})]})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 md:pl-64",children:[e.jsx("header",{className:"bg-gray-800 border-b border-gray-700 px-4 sm:px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>r(!0),className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors duration-200 md:hidden",children:e.jsx(vs,{className:"w-6 h-6"})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["Welcome back, ",n==null?void 0:n.username]}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date().toLocaleDateString("en-LK",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})})]})}),e.jsx("main",{className:"flex-1 p-4 sm:p-6 overflow-y-auto bg-gray-900",children:s})]})]})},Ua=()=>e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsx("div",{className:"flex flex-row items-center justify-between gap-4 sm:flex-col sm:items-start sm:gap-3",children:e.jsx("h1",{className:"text-3xl font-bold text-white sm:text-2xl",children:"Admin Overview"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Et,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Total Cashiers"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"0"})]})]})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(W,{className:"w-6 h-6 text-green-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Total Bills"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"0"})]})]})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(It,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"Rs. 0"})]})]})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(st,{className:"w-6 h-6 text-orange-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"Rs. 0"})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Welcome to Vila POS Admin Panel"}),e.jsx("p",{className:"text-slate-400 text-base",children:"Manage your hotel operations efficiently with our comprehensive admin dashboard."})]})]}),qt=({data:s=[],columns:t=[],isLoading:r=!1,searchable:a=!0,sortable:i=!0,filterable:n=!1,pagination:l=!0,pageSize:o=10,className:c="",emptyMessage:m="No data available"})=>{const[x,h]=v.useState(""),[p,S]=v.useState({key:null,direction:"asc"}),[N,y]=v.useState(1),u=v.useMemo(()=>x?s.filter(j=>t.some(A=>{const D=A.accessor?j[A.accessor]:"";return String(D).toLowerCase().includes(x.toLowerCase())})):s,[s,x,t]),g=v.useMemo(()=>p.key?[...u].sort((j,A)=>{const D=j[p.key],P=A[p.key];return D<P?p.direction==="asc"?-1:1:D>P?p.direction==="asc"?1:-1:0}):u,[u,p]),b=v.useMemo(()=>{if(!l)return g;const j=(N-1)*o;return g.slice(j,j+o)},[g,N,o,l]),w=Math.ceil(g.length/o),f=j=>{i&&S(A=>({key:j,direction:A.key===j&&A.direction==="asc"?"desc":"asc"}))},O=j=>p.key!==j?null:p.direction==="asc"?e.jsx(tr,{className:"w-4 h-4"}):e.jsx(sr,{className:"w-4 h-4"});return r?e.jsx("div",{className:Y("card",c),children:e.jsx(Ma,{rows:o,columns:t.length})}):e.jsxs("div",{className:Y("glass-card overflow-hidden",c),children:[(a||n)&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 mb-6",children:[a&&e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:x,onChange:j=>h(j.target.value),className:"input-field pl-10"})]}),n&&e.jsxs("button",{className:"btn-secondary flex items-center gap-2 justify-center sm:w-auto",children:[e.jsx(ws,{className:"w-4 h-4"}),"Filters"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-white/20",children:t.map((j,A)=>e.jsx("th",{className:Y("text-left py-4 px-2 sm:px-4 font-bold text-white text-sm sm:text-base bg-gradient-to-r from-purple-600/20 to-blue-600/20",i&&j.sortable!==!1&&"cursor-pointer hover:text-white",j.className),onClick:()=>j.sortable!==!1&&f(j.accessor),children:e.jsxs("div",{className:"flex items-center gap-2",children:[j.header,i&&j.sortable!==!1&&O(j.accessor)]})},A))})}),e.jsx("tbody",{children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,className:"text-center py-8 text-slate-400 text-sm sm:text-base",children:m})}):b.map((j,A)=>e.jsx(R.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"border-b border-white/10 hover:bg-white/5 transition-all duration-300 hover:scale-[1.01]",children:t.map((D,P)=>e.jsx("td",{className:Y("py-3 px-2 sm:px-4 text-sm sm:text-base",D.cellClassName),children:D.render?D.render(j[D.accessor],j,A):j[D.accessor]},P))},j.id||A))})]})}),l&&w>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4 mt-6 pt-6 border-t border-white/20",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-white/70 order-2 sm:order-1",children:["Showing ",(N-1)*o+1," to ",Math.min(N*o,g.length)," of ",g.length," results"]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[e.jsx("button",{onClick:()=>y(j=>Math.max(j-1,1)),disabled:N===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2",children:"Previous"}),Array.from({length:Math.min(5,w)},(j,A)=>{const D=A+1;return e.jsx("button",{onClick:()=>y(D),className:Y("px-2 py-1 sm:px-3 sm:py-2 rounded-lg font-medium transition-colors text-xs sm:text-sm",N===D?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"),children:D},D)}),e.jsx("button",{onClick:()=>y(j=>Math.min(j+1,w)),disabled:N===w,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2",children:"Next"})]})]})]})},Ut=({isOpen:s,onClose:t,title:r,children:a,size:i="md",className:n="",showCloseButton:l=!0,closeOnOverlayClick:o=!0,closeOnEscape:c=!0})=>{const m={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"};v.useEffect(()=>{if(!c)return;const h=p=>{p.key==="Escape"&&s&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[s,t,c]),v.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const x=h=>{o&&h.target===h.currentTarget&&t()};return e.jsx(z,{children:s&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:x}),e.jsxs(R.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.3},className:Y("relative w-full glass-card rounded-3xl shadow-2xl max-h-[90vh] overflow-y-auto",m[i],n),children:[(r||l)&&e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20 flex-shrink-0 lg:p-4 bg-gradient-to-r from-purple-600/10 to-blue-600/10",children:[r&&e.jsx("h2",{className:"text-xl font-bold gradient-text lg:text-lg",children:r}),l&&e.jsx("button",{onClick:t,className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-xl transition-all duration-300 hover:scale-110",children:e.jsx(Dt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 flex-1 overflow-y-auto lg:p-4",children:a})]})]})})},$a=()=>{const[s,t]=v.useState([]),[r,a]=v.useState(!0),[i,n]=v.useState(!1),[l,o]=v.useState(null),[c,m]=v.useState({name:"",email:"",password:"",isActive:!0});v.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0),setTimeout(()=>{t([{id:1,name:"John Doe",email:"john@example.com",isActive:!0,createdAt:"2024-01-15",lastLogin:"2024-01-20"},{id:2,name:"Jane Smith",email:"jane@example.com",isActive:!1,createdAt:"2024-01-10",lastLogin:"2024-01-18"}]),a(!1)},1e3)}catch(u){console.error("Error fetching cashiers:",u),a(!1)}},h=async u=>{u.preventDefault();try{if(l){const g=s.map(b=>b.id===l.id?{...b,...c}:b);t(g)}else{const g={id:Date.now(),...c,createdAt:new Date().toISOString().split("T")[0],lastLogin:null};t([...s,g])}n(!1),o(null),m({name:"",email:"",password:"",isActive:!0})}catch(g){console.error("Error saving cashier:",g)}},p=u=>{o(u),m({name:u.name,email:u.email,password:"",isActive:u.isActive}),n(!0)},S=async u=>{window.confirm("Are you sure you want to delete this cashier?")&&t(s.filter(g=>g.id!==u))},N=async u=>{const g=s.map(b=>b.id===u?{...b,isActive:!b.isActive}:b);t(g)},y=[{header:"Name",accessor:"name",render:u=>e.jsx("div",{className:"font-medium text-white",children:u})},{header:"Email",accessor:"email",render:u=>e.jsx("div",{className:"text-slate-300",children:u})},{header:"Status",accessor:"isActive",render:u=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u?"bg-green-900/30 text-green-400 border border-green-800":"bg-red-900/30 text-red-400 border border-red-800"}`,children:u?"Active":"Inactive"})},{header:"Created",accessor:"createdAt",render:u=>e.jsx("div",{className:"text-slate-400 text-sm",children:new Date(u).toLocaleDateString()})},{header:"Last Login",accessor:"lastLogin",render:u=>e.jsx("div",{className:"text-slate-400 text-sm",children:u?new Date(u).toLocaleDateString():"Never"})},{header:"Actions",accessor:"id",sortable:!1,render:(u,g)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>N(u),className:"p-1 rounded-lg hover:bg-dark-700 transition-colors",title:g.isActive?"Deactivate":"Activate",children:g.isActive?e.jsx(vt,{className:"w-4 h-4 text-slate-400"}):e.jsx(et,{className:"w-4 h-4 text-slate-400"})}),e.jsx("button",{onClick:()=>p(g),className:"p-1 rounded-lg hover:bg-dark-700 transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4 text-slate-400"})}),e.jsx("button",{onClick:()=>S(u),className:"p-1 rounded-lg hover:bg-dark-700 transition-colors",title:"Delete",children:e.jsx(Ss,{className:"w-4 h-4 text-red-400"})})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Cashier Management"}),e.jsx("p",{className:"text-slate-400",children:"Manage cashier accounts and permissions"})]}),e.jsxs("button",{onClick:()=>n(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(rr,{className:"w-4 h-4"}),"Add Cashier"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:e.jsx(Et,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Total Cashiers"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]})]})}),e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-600/20 rounded-lg",children:e.jsx(et,{className:"w-6 h-6 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(u=>u.isActive).length})]})]})}),e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-600/20 rounded-lg",children:e.jsx(vt,{className:"w-6 h-6 text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Inactive"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(u=>!u.isActive).length})]})]})})]}),e.jsx(qt,{data:s,columns:y,isLoading:r,emptyMessage:"No cashiers found"}),e.jsx(Ut,{isOpen:i,onClose:()=>{n(!1),o(null),m({name:"",email:"",password:"",isActive:!0})},title:l?"Edit Cashier":"Add New Cashier",children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:c.name,onChange:u=>m({...c,name:u.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:c.email,onChange:u=>m({...c,email:u.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Password ",l&&"(leave blank to keep current)"]}),e.jsx("input",{type:"password",value:c.password,onChange:u=>m({...c,password:u.target.value}),className:"input-field",required:!l})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:u=>m({...c,isActive:u.target.checked}),className:"rounded border-slate-600 bg-dark-800 text-primary-600 focus:ring-primary-600"}),e.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-300",children:"Active"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),o(null),m({name:"",email:"",password:"",isActive:!0})},className:"btn-secondary flex-1",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:[l?"Update":"Add"," Cashier"]})]})]})})]})},za=()=>e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{className:"w-8 h-8 text-primary-500"}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Bill History"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search bills...",className:"input-field pl-10 w-64"})]})]}),e.jsx("div",{className:"card",children:e.jsx("p",{className:"text-slate-400 text-center py-8",children:"Bill history functionality will be implemented here."})})]});class Qa{constructor(){this.initializeDefaultRooms()}initializeDefaultRooms(){if(this.getStoredRooms().length===0){const r=[{id:1,room_number:"101",room_type:"ac",price_per_day:8500,description:"Deluxe AC Room with Sea View",is_active:!0,created_at:new Date().toISOString()},{id:2,room_number:"102",room_type:"non_ac",price_per_day:6500,description:"Standard Non-AC Room",is_active:!0,created_at:new Date().toISOString()},{id:3,room_number:"201",room_type:"ac",price_per_day:12e3,description:"Premium AC Suite",is_active:!0,created_at:new Date().toISOString()}];localStorage.setItem("vila-pos-rooms-data",JSON.stringify(r))}}getStoredRooms(){const t=localStorage.getItem("vila-pos-rooms-data");return t?JSON.parse(t):[]}saveRooms(t){localStorage.setItem("vila-pos-rooms-data",JSON.stringify(t))}async getAllRooms(){return new Promise(t=>{setTimeout(()=>{const r=this.getStoredRooms().filter(a=>a.is_active);t(r)},500)})}async createRoom(t){return new Promise((r,a)=>{setTimeout(()=>{try{const i=this.getStoredRooms();if(i.some(o=>o.room_number===t.room_number&&o.is_active)){a(new Error("Room number already exists"));return}const n=Math.max(...i.map(o=>o.id),0)+1,l={...t,id:n,is_active:!0,created_at:new Date().toISOString()};i.push(l),this.saveRooms(i),r(l)}catch(i){a(i)}},500)})}async updateRoom(t,r){return new Promise((a,i)=>{setTimeout(()=>{try{const n=this.getStoredRooms();if(n.some(o=>o.room_number===r.room_number&&o.id!==t&&o.is_active)){i(new Error("Room number already exists"));return}const l=n.findIndex(o=>o.id===t);l!==-1?(n[l]={...n[l],...r,updated_at:new Date().toISOString()},this.saveRooms(n),a(n[l])):i(new Error("Room not found"))}catch(n){i(n)}},500)})}async deleteRoom(t){return new Promise(r=>{setTimeout(()=>{const a=this.getStoredRooms(),i=a.findIndex(n=>n.id===t);i!==-1&&(a[i].is_active=!1,this.saveRooms(a)),r()},500)})}}const Je=new Qa,xt=nt(ht((s,t)=>({rooms:[],isLoading:!1,error:null,fetchRooms:async()=>{s({isLoading:!0,error:null});try{const r=await Je.getAllRooms();return s({rooms:r,isLoading:!1}),r}catch(r){const a=r.message||"Failed to fetch rooms";throw s({error:a,isLoading:!1}),E.error(a),r}},addRoom:async r=>{s({isLoading:!0,error:null});try{const a=await Je.createRoom(r);return s(i=>({rooms:[...i.rooms,a],isLoading:!1})),E.success("Room added successfully"),a}catch(a){const i=a.message||"Failed to add room";throw s({error:i,isLoading:!1}),E.error(i),a}},updateRoom:async(r,a)=>{s({isLoading:!0,error:null});try{const i=await Je.updateRoom(r,a);return s(n=>({rooms:n.rooms.map(l=>l.id===r?i:l),isLoading:!1})),E.success("Room updated successfully"),i}catch(i){const n=i.message||"Failed to update room";throw s({error:n,isLoading:!1}),E.error(n),i}},deleteRoom:async r=>{s({isLoading:!0,error:null});try{await Je.deleteRoom(r),s(a=>({rooms:a.rooms.filter(i=>i.id!==r),isLoading:!1})),E.success("Room deleted successfully")}catch(a){const i=a.message||"Failed to delete room";throw s({error:i,isLoading:!1}),E.error(i),a}},clearError:()=>s({error:null})}),{name:"vila-pos-rooms",partialize:s=>({rooms:s.rooms})})),ls={code:"LKR",symbol:"Rs.",name:"Sri Lankan Rupee"},K=(s,t={})=>{const{showSymbol:r=!0,showCode:a=!1,decimals:i=2,locale:n="en-LK"}=t;let o=new Intl.NumberFormat(n,{minimumFractionDigits:i,maximumFractionDigits:i}).format(Number(s)||0);return r&&(o=`${ls.symbol} ${o}`),a&&(o=`${o} ${ls.code}`),o},Ha=()=>{const[s,t]=v.useState(null),[r,a]=v.useState(!1),{rooms:i,isLoading:n,fetchRooms:l,addRoom:o,updateRoom:c,deleteRoom:m}=xt(),{register:x,handleSubmit:h,formState:{errors:p},reset:S,setValue:N}=Pt({resolver:Bt(Fa)});v.useEffect(()=>{l()},[l]);const y=()=>{t(null),S(),a(!0)},u=f=>{t(f),N("room_number",f.room_number),N("room_type",f.room_type),N("price_per_day",f.price_per_day),N("description",f.description||""),a(!0)},g=async f=>{if(window.confirm("Are you sure you want to delete this room?"))try{await m(f)}catch(O){console.error("Error deleting room:",O)}},b=async f=>{try{s?await c(s.id,f):await o(f),a(!1),S(),t(null)}catch(O){console.error("Error saving room:",O)}},w=[{header:"Room Number",accessor:"room_number",render:f=>e.jsx("div",{className:"font-semibold text-white",children:f})},{header:"Type",accessor:"room_type",render:f=>e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f==="ac"?"bg-blue-900/30 text-blue-400 border border-blue-800":"bg-green-900/30 text-green-400 border border-green-800"}`,children:f==="ac"?"AC Room":"Non-AC Room"})},{header:"Price/Day",accessor:"price_per_day",render:f=>e.jsx("div",{className:"font-semibold text-primary-400",children:K(f)})},{header:"Description",accessor:"description",render:f=>e.jsx("div",{className:"text-slate-300 max-w-xs truncate",children:f||"No description"})},{header:"Actions",accessor:"id",sortable:!1,render:(f,O)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(O),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 rounded-lg transition-colors",title:"Edit Room",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(f),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/20 rounded-lg transition-colors",title:"Delete Room",children:e.jsx(Ss,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Room Management"}),e.jsx("p",{className:"text-slate-400",children:"Manage hotel rooms and pricing"})]}),e.jsxs("button",{onClick:y,className:"btn-primary flex items-center gap-2",children:[e.jsx(Jt,{className:"w-4 h-4"}),"Add Room"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:e.jsx(L,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Total Rooms"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:i.length})]})]})}),e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:e.jsx(L,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"AC Rooms"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:i.filter(f=>f.room_type==="ac").length})]})]})}),e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-600/20 rounded-lg",children:e.jsx(L,{className:"w-6 h-6 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Non-AC Rooms"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:i.filter(f=>f.room_type==="non_ac").length})]})]})})]}),e.jsx(qt,{data:i,columns:w,isLoading:n,emptyMessage:"No rooms found. Add your first room to get started.",searchable:!0,sortable:!0,pagination:!0,pageSize:10}),e.jsx(Ut,{isOpen:r,onClose:()=>{a(!1),t(null),S()},title:s?"Edit Room":"Add New Room",children:e.jsxs("form",{onSubmit:h(b),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-1 lg:gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Room Number"}),e.jsx("input",{...x("room_number"),type:"text",className:"input-field",placeholder:"e.g., 101"}),p.room_number&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:p.room_number.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Room Type"}),e.jsxs("select",{...x("room_type"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"ac",children:"AC Room"}),e.jsx("option",{value:"non_ac",children:"Non-AC Room"})]}),p.room_type&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:p.room_type.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Price per Day (Rs.)"}),e.jsx("input",{...x("price_per_day"),type:"number",step:"0.01",className:"input-field",placeholder:"e.g., 8500.00"}),p.price_per_day&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:p.price_per_day.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description (Optional)"}),e.jsx("textarea",{...x("description"),rows:3,className:"input-field resize-none",placeholder:"Room description, amenities, etc."}),p.description&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:p.description.message})]}),e.jsxs("div",{className:"flex flex-row gap-3 pt-4 lg:flex-col",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),t(null),S()},className:"btn-secondary w-auto order-2 lg:w-full lg:order-1",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"btn-primary flex-1 order-1 flex items-center justify-center gap-2 lg:w-full lg:order-2",children:n?e.jsx($e,{size:"sm",color:"white"}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"w-4 h-4"}),s?"Update":"Add"," Room"]})})]})]})})]})},Ka=()=>e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(st,{className:"w-8 h-8 text-primary-500"}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Reports & Analytics"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vt,{className:"w-5 h-5 text-slate-400"}),e.jsx("input",{type:"date",className:"input-field"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(It,{className:"w-6 h-6 text-green-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Revenue Report"})]}),e.jsx("p",{className:"text-slate-400",children:"Revenue analytics will be displayed here."})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(st,{className:"w-6 h-6 text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Occupancy Report"})]}),e.jsx("p",{className:"text-slate-400",children:"Room occupancy statistics will be shown here."})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Vt,{className:"w-6 h-6 text-purple-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Monthly Summary"})]}),e.jsx("p",{className:"text-slate-400",children:"Monthly performance summary will be displayed here."})]})]})]});class Ja{getStoredCashiers(){const t=localStorage.getItem("vila-pos-users");return(t?JSON.parse(t):[]).filter(a=>a.role==="cashier")}saveUser(t){const r=localStorage.getItem("vila-pos-users"),a=r?JSON.parse(r):[];if(t.id){const i=a.findIndex(n=>n.id===t.id);i!==-1&&(a[i]={...a[i],...t,updated_at:new Date().toISOString()})}else{const i=Math.max(...a.map(n=>n.id),0)+1;a.push({...t,id:i,role:"cashier",created_at:new Date().toISOString()})}return localStorage.setItem("vila-pos-users",JSON.stringify(a)),t.id?a.find(i=>i.id===t.id):a[a.length-1]}async getAllCashiers(){return new Promise(t=>{setTimeout(()=>{const r=this.getStoredCashiers();t(r.map(({password:a,...i})=>i))},500)})}async createCashier(t){return new Promise((r,a)=>{setTimeout(()=>{try{const i=localStorage.getItem("vila-pos-users");if((i?JSON.parse(i):[]).some(m=>m.username===t.username)){a(new Error("Username already exists"));return}const l=this.saveUser(t),{password:o,...c}=l;r(c)}catch(i){a(i)}},500)})}async updateCashier(t,r){return new Promise((a,i)=>{setTimeout(()=>{try{const n=localStorage.getItem("vila-pos-users");if((n?JSON.parse(n):[]).some(x=>x.username===r.username&&x.id!==t)){i(new Error("Username already exists"));return}const o=this.saveUser({...r,id:t}),{password:c,...m}=o;a(m)}catch(n){i(n)}},500)})}async deleteCashier(t){return new Promise((r,a)=>{setTimeout(()=>{try{const i=localStorage.getItem("vila-pos-users"),l=(i?JSON.parse(i):[]).filter(o=>o.id!==t);localStorage.setItem("vila-pos-users",JSON.stringify(l)),r()}catch(i){a(i)}},500)})}}const Ve=new Ja,Va=nt(ht((s,t)=>({cashiers:[],isLoading:!1,error:null,fetchCashiers:async()=>{s({isLoading:!0,error:null});try{const r=await Ve.getAllCashiers();return s({cashiers:r,isLoading:!1}),r}catch(r){const a=r.message||"Failed to fetch cashiers";throw s({error:a,isLoading:!1}),E.error(a),r}},addCashier:async r=>{s({isLoading:!0,error:null});try{const a=await Ve.createCashier(r);return s(i=>({cashiers:[...i.cashiers,a],isLoading:!1})),E.success("Cashier added successfully"),a}catch(a){const i=a.message||"Failed to add cashier";throw s({error:i,isLoading:!1}),E.error(i),a}},updateCashier:async(r,a)=>{s({isLoading:!0,error:null});try{const i=await Ve.updateCashier(r,a);return s(n=>({cashiers:n.cashiers.map(l=>l.id===r?i:l),isLoading:!1})),E.success("Cashier updated successfully"),i}catch(i){const n=i.message||"Failed to update cashier";throw s({error:n,isLoading:!1}),E.error(n),i}},deleteCashier:async r=>{s({isLoading:!0,error:null});try{await Ve.deleteCashier(r),s(a=>({cashiers:a.cashiers.filter(i=>i.id!==r),isLoading:!1})),E.success("Cashier deleted successfully")}catch(a){const i=a.message||"Failed to delete cashier";throw s({error:i,isLoading:!1}),E.error(i),a}},clearError:()=>s({error:null})}),{name:"vila-pos-cashiers",partialize:s=>({cashiers:s.cashiers})}));class Ga{getStoredBills(){const t=localStorage.getItem("vila-pos-bills-data");return t?JSON.parse(t):[]}saveBills(t){localStorage.setItem("vila-pos-bills-data",JSON.stringify(t))}generateBillNumber(){const r=new Date().toISOString().slice(0,10).replace(/-/g,""),n=this.getStoredBills().filter(l=>l.bill_number.startsWith(`VB${r}`)).length+1;return`VB${r}${n.toString().padStart(3,"0")}`}async getAllBills(){return new Promise(t=>{setTimeout(()=>{const r=this.getStoredBills();t(r)},500)})}async createBill(t){return new Promise(r=>{setTimeout(()=>{const a=this.getStoredBills(),i=JSON.parse(localStorage.getItem("vila-pos-rooms-data")||"[]"),n=Math.max(...a.map(p=>p.id),0)+1,l=new Date(t.check_in_date),o=new Date(t.check_out_date),c=Math.ceil((o-l)/(1e3*60*60*24)),m=c*t.price_per_day,x=i.find(p=>p.id===t.room_id),h={...t,id:n,bill_number:t.bill_number||this.generateBillNumber(),days:c,total_amount:m,room_number:(x==null?void 0:x.room_number)||"N/A",room_type:(x==null?void 0:x.room_type)||"N/A",created_at:new Date().toISOString()};a.push(h),this.saveBills(a),r(h)},500)})}async deleteBill(t){return new Promise(r=>{setTimeout(()=>{const i=this.getStoredBills().filter(n=>n.id!==t);this.saveBills(i),r()},500)})}async getBillById(t){return new Promise(r=>{setTimeout(()=>{const i=this.getStoredBills().find(n=>n.id===t);r(i)},300)})}}const Ye=new Ga,pt=nt(ht((s,t)=>({bills:[],isLoading:!1,error:null,stats:{totalBills:0,totalRevenue:0,todayBills:0,todayRevenue:0},fetchBills:async()=>{s({isLoading:!0,error:null});try{const r=await Ye.getAllBills(),a=t().calculateStats(r);return s({bills:r,stats:a,isLoading:!1}),r}catch(r){const a=r.message||"Failed to fetch bills";throw s({error:a,isLoading:!1}),E.error(a),r}},createBill:async r=>{s({isLoading:!0,error:null});try{const a=await Ye.createBill(r);return s(i=>{const n=[...i.bills,a],l=i.calculateStats(n);return{bills:n,stats:l,isLoading:!1}}),E.success("Bill created successfully"),a}catch(a){const i=a.message||"Failed to create bill";throw s({error:i,isLoading:!1}),E.error(i),a}},deleteBill:async r=>{s({isLoading:!0,error:null});try{await Ye.deleteBill(r),s(a=>{const i=a.bills.filter(l=>l.id!==r),n=a.calculateStats(i);return{bills:i,stats:n,isLoading:!1}}),E.success("Bill deleted successfully")}catch(a){const i=a.message||"Failed to delete bill";throw s({error:i,isLoading:!1}),E.error(i),a}},calculateStats:r=>{const a=new Date().toDateString(),i=r.filter(n=>new Date(n.created_at).toDateString()===a);return{totalBills:r.length,totalRevenue:r.reduce((n,l)=>n+parseFloat(l.total_amount),0),todayBills:i.length,todayRevenue:i.reduce((n,l)=>n+parseFloat(l.total_amount),0)}},clearError:()=>s({error:null})}),{name:"vila-pos-bills",partialize:s=>({bills:s.bills})})),Wa=()=>{const{fetchCashiers:s}=Va(),{fetchBills:t}=pt(),{fetchRooms:r}=xt();return v.useEffect(()=>{(async()=>{try{await Promise.all([s(),t(),r()])}catch(i){console.error("Failed to initialize admin dashboard data:",i)}})()},[s,t,r]),e.jsx(qa,{children:e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsxs(Ot,{children:[e.jsx(q,{index:!0,element:e.jsx(Ua,{})}),e.jsx(q,{path:"cashiers",element:e.jsx($a,{})}),e.jsx(q,{path:"bills",element:e.jsx(za,{})}),e.jsx(q,{path:"rooms",element:e.jsx(Ha,{})}),e.jsx(q,{path:"reports",element:e.jsx(Ka,{})}),e.jsx(q,{path:"*",element:e.jsx(Ne,{to:"/admin",replace:!0})})]})})})},os=[{name:"Overview",href:"/cashier",icon:js},{name:"Create Bill",href:"/cashier/create-bill",icon:Ge},{name:"Bills",href:"/cashier/bills",icon:W},{name:"Rooms",href:"/cashier/rooms",icon:L}],Ya=({children:s})=>{const[t,r]=v.useState(!1),a=it(),i=At(),{user:n,logout:l}=Ue(),o=()=>{l(),i("/login")};return e.jsxs("div",{className:"min-h-screen bg-dark-950 flex",children:[e.jsx(z,{children:t&&e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm md:hidden",onClick:()=>r(!1)})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0 z-30",children:e.jsxs("div",{className:"flex flex-col flex-grow bg-gray-800 border-r border-gray-700 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 px-6 py-6 border-b border-gray-700 flex-shrink-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-100",children:"Vila POS"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Cashier Panel"})]})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:os.map(c=>{const m=a.pathname===c.href;return e.jsxs(Ze,{to:c.href,className:Y("flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors duration-200",m?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"),children:[e.jsx(c.icon,{className:"w-5 h-5"}),c.name]},c.name)})}),e.jsxs("div",{className:"p-4 border-t border-gray-700 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(Xe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-100 truncate",children:n==null?void 0:n.username}),e.jsx("p",{className:"text-xs text-gray-400",children:"Cashier"})]})]}),e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-2 px-3 py-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors duration-200",children:[e.jsx(tt,{className:"w-4 h-4"}),"Sign Out"]})]})]})}),e.jsx(z,{children:t&&e.jsx(R.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-y-0 left-0 z-50 w-64 bg-gray-800 border-r border-gray-700 overflow-y-auto md:hidden",children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-100",children:"Vila POS"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Cashier Panel"})]})]}),e.jsx("button",{onClick:()=>r(!1),className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors duration-200",children:e.jsx(Dt,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:os.map(c=>{const m=a.pathname===c.href;return e.jsxs(Ze,{to:c.href,onClick:()=>r(!1),className:Y("flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors duration-200",m?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"),children:[e.jsx(c.icon,{className:"w-5 h-5"}),c.name]},c.name)})}),e.jsxs("div",{className:"p-4 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(Xe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-100 truncate",children:n==null?void 0:n.username}),e.jsx("p",{className:"text-xs text-gray-400",children:"Cashier"})]})]}),e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-2 px-3 py-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors duration-200",children:[e.jsx(tt,{className:"w-4 h-4"}),"Sign Out"]})]})]})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 md:pl-64",children:[e.jsx("header",{className:"bg-gray-800 border-b border-gray-700 px-4 sm:px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>r(!0),className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors duration-200 md:hidden",children:e.jsx(vs,{className:"w-6 h-6"})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["Welcome, ",n==null?void 0:n.username]}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date().toLocaleDateString("en-LK",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})})]})}),e.jsx("main",{className:"flex-1 p-4 sm:p-6 overflow-y-auto bg-gray-900",children:s})]})]})},Za=()=>e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between gap-4 sm:flex-col sm:items-start sm:gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold text-white sm:text-2xl",children:"Cashier Dashboard"}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Today"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:new Date().toLocaleDateString("en-LK")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(W,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Today's Bills"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"0"})]})]})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(It,{className:"w-6 h-6 text-green-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Today's Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"Rs. 0"})]})]})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(L,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Available Rooms"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"0"})]})]})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(ar,{className:"w-6 h-6 text-orange-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Active Session"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:new Date().toLocaleTimeString("en-LK",{hour:"2-digit",minute:"2-digit"})})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-1 lg:gap-3",children:[e.jsx("button",{className:"btn-primary text-left p-4 h-auto",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-base",children:"Create New Bill"}),e.jsx("p",{className:"text-sm opacity-80",children:"Generate a new customer bill"})]})]})}),e.jsx("button",{className:"btn-secondary text-left p-4 h-auto",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-base",children:"View Rooms"}),e.jsx("p",{className:"text-sm opacity-80",children:"Check room availability"})]})]})})]})]})]}),Xa=(s,t="yyyy-MM-dd")=>{if(!s)return"";try{const r=typeof s=="string"?yt(s):s;return bt(r)?Ys(r,t):""}catch(r){return console.error("Date formatting error:",r),""}},ne=s=>Xa(s,"MMM dd, yyyy"),ei=(s,t)=>{if(!s||!t)return 0;try{const r=typeof s=="string"?yt(s):s,a=typeof t=="string"?yt(t):t;if(!bt(r)||!bt(a))return 0;const i=Ws(a,r);return Math.max(i,1)}catch(r){return console.error("Date calculation error:",r),0}},ti=()=>{const[s,t]=v.useState(null),[r,a]=v.useState(0),[i,n]=v.useState(0),[l,o]=v.useState(""),{rooms:c,fetchRooms:m}=xt(),{createBill:x,isLoading:h}=pt(),{register:p,handleSubmit:S,formState:{errors:N},watch:y,setValue:u,reset:g}=Pt({resolver:Bt(Ta)}),b=y(["room_id","check_in_date","check_out_date"]);v.useEffect(()=>{m(),w()},[m]);const w=()=>{const j=Ye.generateBillNumber();o(j)};v.useEffect(()=>{const[j,A,D]=b;if(j&&A&&D){const P=c.find(k=>k.id===parseInt(j));if(P){t(P);const k=ei(A,D),M=k*parseFloat(P.price_per_day);a(k),n(M),u("price_per_day",P.price_per_day)}}else t(null),a(0),n(0)},[b,c,u]);const f=async j=>{try{const A={...j,bill_number:l,room_id:parseInt(j.room_id),price_per_day:parseFloat(j.price_per_day),days:r,total_amount:i,created_by:1};await x(A),g(),w(),t(null),a(0),n(0)}catch(A){console.error("Error creating bill:",A)}},O=()=>{g(),t(null),a(0),n(0),w()};return e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between gap-4 sm:flex-col sm:items-start sm:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ge,{className:"w-8 h-8 text-primary-500"}),e.jsx("h1",{className:"text-3xl font-bold text-white sm:text-2xl",children:"Create New Bill"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[e.jsx(Gt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Bill Calculator"})]})]}),e.jsxs("form",{onSubmit:S(f),className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Ge,{className:"w-6 h-6 text-primary-500"}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Bill Information"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-1 lg:gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Bill Number"}),e.jsx("input",{type:"text",value:l,readOnly:!0,className:"input-field bg-dark-700 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Date"}),e.jsx("input",{type:"text",value:new Date().toLocaleDateString("en-LK"),readOnly:!0,className:"input-field bg-dark-700 cursor-not-allowed"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Xe,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Customer Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer Name *"}),e.jsx("input",{...p("customer_name"),type:"text",className:"input-field",placeholder:"Enter customer name"}),N.customer_name&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:N.customer_name.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-1 lg:gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),e.jsx("input",{...p("customer_phone"),type:"tel",className:"input-field",placeholder:"Enter phone number"}),N.customer_phone&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:N.customer_phone.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Address"}),e.jsx("input",{...p("customer_address"),type:"text",className:"input-field",placeholder:"Enter customer address"}),N.customer_address&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:N.customer_address.message})]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(L,{className:"w-6 h-6 text-green-500"}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Booking Details"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Room Selection *"}),e.jsxs("select",{...p("room_id"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select a room"}),c.map(j=>e.jsxs("option",{value:j.id,children:[j.room_number," - ",j.room_type==="ac"?"AC":"Non-AC","(",K(j.price_per_day),"/day)"]},j.id))]}),N.room_id&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:N.room_id.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-1 lg:gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Check-in Date *"}),e.jsx("input",{...p("check_in_date"),type:"date",min:new Date().toISOString().split("T")[0],className:"input-field"}),N.check_in_date&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:N.check_in_date.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Check-out Date *"}),e.jsx("input",{...p("check_out_date"),type:"date",min:new Date().toISOString().split("T")[0],className:"input-field"}),N.check_out_date&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:N.check_out_date.message})]})]})]})]}),s&&r>0&&e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"card bg-gradient-to-r from-primary-900/20 to-purple-900/20 border-primary-500/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Gt,{className:"w-6 h-6 text-primary-400"}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Calculation Summary"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 lg:grid-cols-1 lg:gap-3",children:[e.jsxs("div",{className:"text-center p-4 bg-dark-800/50 rounded-xl",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Number of Days"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:r})]}),e.jsxs("div",{className:"text-center p-4 bg-dark-800/50 rounded-xl",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Rate per Day"}),e.jsx("p",{className:"text-2xl font-bold text-primary-400",children:K(s.price_per_day)})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-primary-600/20 to-purple-600/20 rounded-xl border border-primary-500/30",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-primary-300",children:K(i)})]})]})]}),e.jsxs("div",{className:"flex flex-row gap-4 pt-4 lg:flex-col",children:[e.jsx("button",{type:"button",onClick:O,className:"btn-secondary w-auto order-2 lg:w-full lg:order-1",children:"Reset Form"}),e.jsx("button",{type:"submit",disabled:h||!s||r===0,className:"btn-primary flex-1 order-1 flex items-center justify-center gap-2 lg:w-full lg:order-2",children:h?e.jsx($e,{size:"sm",color:"white"}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-5 h-5"}),"Create Bill"]})})]})]})]})},si=()=>{const[s,t]=v.useState(null),[r,a]=v.useState(!1),{bills:i,stats:n,isLoading:l,fetchBills:o}=pt();v.useEffect(()=>{o()},[o]);const c=h=>{t(h),a(!0)},m=h=>{const p=window.open("","_blank");p.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Bill ${h.bill_number}</title>
          <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
          <style>
            * {
              -webkit-print-color-adjust: exact !important;
              color-adjust: exact !important;
            }
            
            body {
              background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%) !important;
              color: #1e293b !important;
              font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif !important;
              margin: 0 !important;
              padding: 20px !important;
              line-height: 1.6;
            }
            
            .print-container {
              max-width: 800px;
              margin: 0 auto;
              background: white;
              border-radius: 20px;
              overflow: hidden;
              box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            }
            
            .print-header {
              background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%) !important;
              color: white !important;
              padding: 40px 30px !important;
              text-align: center !important;
              position: relative;
              overflow: hidden;
            }
            
            .print-header::before {
              content: '';
              position: absolute;
              top: -50%;
              left: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
              animation: shimmer 3s ease-in-out infinite;
            }
            
            @keyframes shimmer {
              0%, 100% { transform: rotate(0deg); }
              50% { transform: rotate(180deg); }
            }
            
            .print-logo {
              width: 80px !important;
              height: 80px !important;
              background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%) !important;
              border-radius: 20px !important;
              display: inline-flex !important;
              align-items: center !important;
              justify-content: center !important;
              margin-bottom: 20px !important;
              box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4) !important;
              position: relative;
              z-index: 2;
            }
            
            .print-logo i {
              font-size: 32px;
              color: white;
            }
            
            .print-title {
              font-size: 36px !important;
              font-weight: 800 !important;
              margin: 0 0 10px 0 !important;
              text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
              position: relative;
              z-index: 2;
            }
            
            .print-subtitle {
              font-size: 20px !important;
              font-weight: 600 !important;
              opacity: 0.9 !important;
              margin: 0 0 10px 0 !important;
              position: relative;
              z-index: 2;
            }
            
            .bill-number {
              font-size: 16px !important;
              background: rgba(255, 255, 255, 0.2);
              padding: 8px 16px;
              border-radius: 20px;
              display: inline-block;
              margin-top: 10px;
              position: relative;
              z-index: 2;
            }
            
            .print-content {
              padding: 40px 30px !important;
            }
            
            .print-section {
              margin-bottom: 30px !important;
              padding: 25px !important;
              background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
              border-radius: 15px !important;
              border-left: 5px solid #3b82f6 !important;
              position: relative;
              overflow: hidden;
            }
            
            .print-section::before {
              content: '';
              position: absolute;
              top: 0;
              right: 0;
              width: 100px;
              height: 100px;
              background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
              border-radius: 50%;
              transform: translate(30px, -30px);
            }
            
            .print-section h3 {
              color: #1e40af !important;
              font-size: 22px !important;
              font-weight: 700 !important;
              margin: 0 0 20px 0 !important;
              display: flex !important;
              align-items: center !important;
              gap: 12px !important;
              position: relative;
              z-index: 2;
            }
            
            .print-section h3 i {
              font-size: 20px;
              color: #3b82f6;
            }
            
            .info-grid {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 15px;
              position: relative;
              z-index: 2;
            }
            
            .info-item {
              display: flex;
              flex-direction: column;
              gap: 5px;
            }
            
            .info-label {
              font-size: 14px;
              font-weight: 600;
              color: #64748b;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            
            .info-value {
              font-size: 16px;
              font-weight: 700;
              color: #1e293b;
            }
            
            .print-table {
              width: 100% !important;
              border-collapse: collapse !important;
              margin: 25px 0 !important;
              background: white !important;
              border-radius: 15px !important;
              overflow: hidden !important;
              box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1) !important;
            }
            
            .print-table th {
              background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%) !important;
              color: white !important;
              padding: 18px 15px !important;
              text-align: left !important;
              font-weight: 700 !important;
              font-size: 15px !important;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            
            .print-table td {
              padding: 15px !important;
              border-bottom: 1px solid #e2e8f0 !important;
              font-size: 15px !important;
              color: #334155 !important;
              font-weight: 500;
            }
            
            .print-table tr:nth-child(even) td {
              background: #f8fafc !important;
            }
            
            .print-table tr:hover td {
              background: #e0f2fe !important;
            }
            
            .print-total {
              background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%) !important;
              color: white !important;
              padding: 30px !important;
              border-radius: 20px !important;
              text-align: center !important;
              margin: 30px 0 !important;
              box-shadow: 0 12px 30px rgba(30, 64, 175, 0.4) !important;
              position: relative;
              overflow: hidden;
            }
            
            .print-total::before {
              content: '';
              position: absolute;
              top: -50%;
              left: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
              animation: pulse 2s ease-in-out infinite;
            }
            
            @keyframes pulse {
              0%, 100% { opacity: 0.5; }
              50% { opacity: 1; }
            }
            
            .total-label {
              font-size: 18px !important;
              font-weight: 600 !important;
              margin-bottom: 10px !important;
              position: relative;
              z-index: 2;
            }
            
            .total-amount {
              font-size: 36px !important;
              font-weight: 900 !important;
              text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
              position: relative;
              z-index: 2;
            }
            
            .print-footer {
              text-align: center !important;
              margin-top: 40px !important;
              padding: 25px !important;
              background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%) !important;
              border-radius: 15px !important;
              border: 2px dashed #3b82f6 !important;
              position: relative;
            }
            
            .print-footer::before {
              content: '✨';
              position: absolute;
              top: 10px;
              left: 20px;
              font-size: 20px;
            }
            
            .print-footer::after {
              content: '✨';
              position: absolute;
              top: 10px;
              right: 20px;
              font-size: 20px;
            }
            
            .print-footer p {
              color: #1e40af !important;
              font-weight: 700 !important;
              font-size: 18px !important;
              margin: 0 !important;
            }
            
            .print-date {
              position: absolute;
              top: 20px;
              right: 30px;
              background: rgba(255, 255, 255, 0.2);
              padding: 8px 12px;
              border-radius: 10px;
              font-size: 14px;
              font-weight: 600;
              z-index: 2;
            }
            
            @media print {
              body { margin: 0 !important; padding: 10px !important; }
              .print-container { box-shadow: none !important; }
            }
          </style>
        </head>
        <body>
          <div class="print-container">
            <div class="print-header">
              <div class="print-date">${ne(new Date)}</div>
              <div class="print-logo">
                <i class="fas fa-hotel"></i>
              </div>
              <h1 class="print-title">Vila POS System</h1>
              <h2 class="print-subtitle">Premium Hotel Management</h2>
              <div class="bill-number">Bill #${h.bill_number}</div>
            </div>
            
            <div class="print-content">
              <div class="print-section">
                <h3><i class="fas fa-user"></i> Customer Information</h3>
                <div class="info-grid">
                  <div class="info-item">
                    <span class="info-label">Customer Name</span>
                    <span class="info-value">${h.customer_name}</span>
                  </div>
                  <div class="info-item">
                    <span class="info-label">Phone Number</span>
                    <span class="info-value">${h.customer_phone||"Not provided"}</span>
                  </div>
                  <div class="info-item" style="grid-column: 1 / -1;">
                    <span class="info-label">Address</span>
                    <span class="info-value">${h.customer_address||"Not provided"}</span>
                  </div>
                </div>
              </div>
              
              <div class="print-section">
                <h3><i class="fas fa-bed"></i> Booking Details</h3>
                <table class="print-table">
                  <thead>
                    <tr>
                      <th><i class="fas fa-door-open"></i> Room</th>
                      <th><i class="fas fa-calendar-check"></i> Check-in</th>
                      <th><i class="fas fa-calendar-times"></i> Check-out</th>
                      <th><i class="fas fa-clock"></i> Days</th>
                      <th><i class="fas fa-tag"></i> Rate/Day</th>
                      <th><i class="fas fa-calculator"></i> Total</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><strong>${h.room_number||"N/A"}</strong><br><small>${h.room_type==="ac"?"AC Room":"Non-AC Room"}</small></td>
                      <td>${ne(h.check_in_date)}</td>
                      <td>${ne(h.check_out_date)}</td>
                      <td><strong>${h.days}</strong></td>
                      <td><strong>${K(h.price_per_day)}</strong></td>
                      <td><strong>${K(h.total_amount)}</strong></td>
                    </tr>
                  </tbody>
                </table>
              </div>
              
              <div class="print-total">
                <div class="total-label">Total Amount</div>
                <div class="total-amount">${K(h.total_amount)}</div>
              </div>
              
              <div class="print-footer">
                <p>Thank you for choosing Vila POS System!</p>
                <p style="font-size: 14px; margin-top: 10px; font-weight: 500;">We appreciate your business and hope you enjoyed your stay.</p>
              </div>
            </div>
          </div>
        </body>
      </html>
    `),p.document.close(),p.print()},x=[{header:"Bill Number",accessor:"bill_number",className:"font-medium text-white"},{header:"Customer",accessor:"customer_name",className:"font-medium"},{header:"Room",accessor:"room_number",render:h=>h||"N/A"},{header:"Check-in",accessor:"check_in_date",render:h=>ne(h)},{header:"Check-out",accessor:"check_out_date",render:h=>ne(h)},{header:"Days",accessor:"days",className:"text-center"},{header:"Amount",accessor:"total_amount",render:h=>e.jsx("span",{className:"font-semibold text-green-400",children:K(h)})},{header:"Date",accessor:"created_at",render:h=>ne(h)},{header:"Actions",accessor:"id",sortable:!1,render:(h,p)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(p),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 rounded-lg transition-colors",title:"View Bill",children:e.jsx(et,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(p),className:"p-2 text-green-400 hover:text-green-300 hover:bg-green-500/20 rounded-lg transition-colors",title:"Print Bill",children:e.jsx(Wt,{className:"w-4 h-4"})})]})}];return e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsx("div",{className:"flex flex-row items-center justify-between gap-4 sm:flex-col sm:items-start sm:gap-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{className:"w-8 h-8 text-primary-500"}),e.jsx("h1",{className:"text-3xl font-bold text-white sm:text-2xl",children:"My Bills"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Total Bills"}),e.jsx("p",{className:"text-xl font-bold text-white",children:n.totalBills})]})]})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Today's Bills"}),e.jsx("p",{className:"text-xl font-bold text-white",children:n.todayBills})]})]})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Total Revenue"}),e.jsx("p",{className:"text-xl font-bold text-white",children:K(n.totalRevenue)})]})]})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"w-5 h-5 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Today's Revenue"}),e.jsx("p",{className:"text-xl font-bold text-white",children:K(n.todayRevenue)})]})]})})]}),e.jsx(qt,{data:i,columns:x,isLoading:l,emptyMessage:"No bills found. Create your first bill to get started.",searchable:!0,sortable:!0,pagination:!0,pageSize:10}),e.jsx(Ut,{isOpen:r,onClose:()=>a(!1),title:`Bill Details - ${s==null?void 0:s.bill_number}`,size:"lg",children:s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm lg:grid-cols-1 lg:gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Name:"}),e.jsx("span",{className:"ml-2 text-white font-medium",children:s.customer_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Phone:"}),e.jsx("span",{className:"ml-2 text-white",children:s.customer_phone||"N/A"})]}),e.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[e.jsx("span",{className:"text-slate-400",children:"Address:"}),e.jsx("span",{className:"ml-2 text-white",children:s.customer_address||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Booking Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm lg:grid-cols-1 lg:gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Room Number:"}),e.jsx("span",{className:"ml-2 text-white font-medium",children:s.room_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Room Type:"}),e.jsx("span",{className:"ml-2 text-white",children:s.room_type==="ac"?"AC Room":"Non-AC Room"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Check-in:"}),e.jsx("span",{className:"ml-2 text-white",children:ne(s.check_in_date)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Check-out:"}),e.jsx("span",{className:"ml-2 text-white",children:ne(s.check_out_date)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Number of Days:"}),e.jsx("span",{className:"ml-2 text-white font-medium",children:s.days})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Rate per Day:"}),e.jsx("span",{className:"ml-2 text-white font-medium",children:K(s.price_per_day)})]})]})]}),e.jsx("div",{className:"border-t border-dark-700 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-slate-300",children:"Total Amount:"}),e.jsx("span",{className:"text-2xl font-bold text-primary-400",children:K(s.total_amount)})]})}),e.jsxs("div",{className:"flex flex-row gap-3 pt-4 lg:flex-col",children:[e.jsx("button",{onClick:()=>a(!1),className:"btn-secondary w-auto order-2 lg:w-full lg:order-1",children:"Close"}),e.jsxs("button",{onClick:()=>m(s),className:"btn-primary w-auto order-1 flex items-center justify-center gap-2 lg:w-full lg:order-2",children:[e.jsx(Wt,{className:"w-4 h-4"}),"Print Bill"]})]})]})})]})},ri=()=>e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"w-8 h-8 text-primary-500"}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Room Availability"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search rooms...",className:"input-field pl-10 w-64"})]}),e.jsxs("button",{className:"btn-secondary flex items-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),"Filter"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(L,{className:"w-6 h-6 text-green-400"})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"0"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Available"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(L,{className:"w-6 h-6 text-red-400"})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"0"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Occupied"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(L,{className:"w-6 h-6 text-blue-400"})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"0"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"AC Rooms"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500/20 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(L,{className:"w-6 h-6 text-orange-400"})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"0"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Non-AC Rooms"})]})})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(L,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No Rooms Available"}),e.jsx("p",{className:"text-slate-500",children:"Room data will be displayed here once rooms are added to the system."})]})})]}),ai=()=>{const{fetchBills:s}=pt(),{fetchRooms:t}=xt();return v.useEffect(()=>{(async()=>{try{await Promise.all([s(),t()])}catch(a){console.error("Failed to initialize cashier dashboard data:",a)}})()},[s,t]),e.jsx(Ya,{children:e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsxs(Ot,{children:[e.jsx(q,{index:!0,element:e.jsx(Za,{})}),e.jsx(q,{path:"create-bill",element:e.jsx(ti,{})}),e.jsx(q,{path:"bills",element:e.jsx(si,{})}),e.jsx(q,{path:"rooms",element:e.jsx(ri,{})}),e.jsx(q,{path:"*",element:e.jsx(Ne,{to:"/cashier",replace:!0})})]})})})},cs=({children:s,requiredRole:t=null})=>{const{user:r,isLoading:a}=Ue(),i=it();if(a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-950",children:e.jsx($e,{size:"lg"})});if(!r)return e.jsx(Ne,{to:"/login",state:{from:i},replace:!0});if(t&&r.role!==t){const n=r.role==="admin"?"/admin":"/cashier";return e.jsx(Ne,{to:n,replace:!0})}return s};function ii(){const{user:s,isLoading:t}=Ue();return t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-950",children:e.jsx($e,{size:"lg"})}):e.jsx("div",{className:"min-h-screen bg-dark-950",children:e.jsx(z,{mode:"wait",children:e.jsxs(Ot,{children:[e.jsx(q,{path:"/login",element:s?e.jsx(Ne,{to:s.role==="admin"?"/admin":"/cashier",replace:!0}):e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:e.jsx(Ba,{})})}),e.jsx(q,{path:"/admin/*",element:e.jsx(cs,{requiredRole:"admin",children:e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(Wa,{})})})}),e.jsx(q,{path:"/cashier/*",element:e.jsx(cs,{requiredRole:"cashier",children:e.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(ai,{})})})}),e.jsx(q,{path:"/",element:e.jsx(Ne,{to:s?s.role==="admin"?"/admin":"/cashier":"/login",replace:!0})}),e.jsx(q,{path:"*",element:e.jsx(Ne,{to:"/",replace:!0})})]})})})}const ni={VALIDATION:"VALIDATION_ERROR",NETWORK:"NETWORK_ERROR",AUTH:"AUTH_ERROR",PERMISSION:"PERMISSION_ERROR",NOT_FOUND:"NOT_FOUND_ERROR",SERVER:"SERVER_ERROR",UNKNOWN:"UNKNOWN_ERROR"},li=(s,t="")=>{const r={timestamp:new Date().toISOString(),context:t,message:s.message,stack:s.stack,type:s.type||ni.UNKNOWN,details:s.details||null};try{const a=JSON.parse(localStorage.getItem("vila-pos-error-logs")||"[]");a.push(r),a.length>100&&a.splice(0,a.length-100),localStorage.setItem("vila-pos-error-logs",JSON.stringify(a))}catch(a){console.error("Failed to log error:",a)}};class oi extends bs.Component{constructor(r){super(r);$t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,a){this.setState({error:r,errorInfo:a}),li(r,"ErrorBoundary")}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-dark-900/50 backdrop-blur-xl border border-dark-700/50 rounded-2xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ir,{className:"w-8 h-8 text-red-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-slate-400 mb-6",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1,e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"w-full btn-primary flex items-center justify-center gap-2",children:[e.jsx(nr,{className:"w-4 h-4"}),"Try Again"]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full btn-secondary",children:"Reload Page"})]})]})}):this.props.children}}const ci=new Mr({defaultOptions:{queries:{retry:3,retryDelay:s=>Math.min(1e3*2**s,3e4),staleTime:5*60*1e3,cacheTime:10*60*1e3},mutations:{retry:1}}});jt.createRoot(document.getElementById("root")).render(e.jsx(bs.StrictMode,{children:e.jsx(oi,{children:e.jsx(qr,{client:ci,children:e.jsxs(zs,{children:[e.jsx(ii,{}),e.jsx(ka,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#f8fafc",border:"1px solid #475569"},success:{iconTheme:{primary:"#10b981",secondary:"#f8fafc"}},error:{iconTheme:{primary:"#ef4444",secondary:"#f8fafc"}}}})]})})})}));
//# sourceMappingURL=index-2a56a08b.js.map
